"use strict";(self.webpackChunkcomman=self.webpackChunkcomman||[]).push([[503],{8503:(Y,g,s)=>{s.r(g),s.d(g,{AtaglanceModule:()=>B});var c=s(177),l=s(483),C=s(7468),t=s(4438),p=s(3259),m=s(6554),u=s(493);function f(e,o){if(1&e&&(t.j41(0,"div",6),t.nrm(1,"img",7),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.FS9("src",n.comment.logoURL,t.B4B),t.FS9("alt",n.comment.centerAddress)}}let h=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-comment-card"]],inputs:{comment:"comment"},decls:11,vars:5,consts:[[1,"comment-card"],[1,"w-100","d-flex","flex-column","justify-content-center","gap-3"],[1,"d-flex","align-items-center","gap-3"],["class","avatar-icon",4,"ngIf"],[1,"title"],[1,"comment-data"],[1,"avatar-icon"],[3,"src","alt"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,f,2,2,"div",3),t.j41(4,"div",4),t.EFF(5),t.k0s()(),t.j41(6,"div",5)(7,"span"),t.EFF(8),t.k0s(),t.j41(9,"p"),t.EFF(10),t.k0s()()()()),2&i&&(t.R7$(3),t.Y8G("ngIf",a.comment.logoURL),t.R7$(2),t.Lme(" ",a.comment.userFirstName," ",a.comment.userLastName," "),t.R7$(3),t.SpI(" ",a.comment.centerAddress," "),t.R7$(2),t.SpI(" ",a.comment.comment," "))},dependencies:[c.bT],styles:[".comment-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;width:100%}.comment-card[_ngcontent-%COMP%]   .comment-data[_ngcontent-%COMP%]{width:100%;background-color:#edf0f8;border-left:1px solid #ff4c4c;border-right:1px solid #ff4c4c;border-radius:.5rem;padding:.75rem;color:#707791;display:flex;flex-direction:column;justify-content:center;gap:.5rem}.comment-card[_ngcontent-%COMP%]   .comment-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#000}.comment-card[_ngcontent-%COMP%]   .comment-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.avatar-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;background-color:red;border-radius:50%}.avatar-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}"]})}}return e})();function b(e,o){if(1&e&&(t.j41(0,"div",7),t.nrm(1,"img",8),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.FS9("src",n.reaction.logoURL,t.B4B),t.FS9("alt",n.reaction.centerAddress)}}let v=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-reaction-card"]],inputs:{reaction:"reaction"},decls:11,vars:4,consts:[[1,"reaction-card"],[1,"w-100","d-flex","flex-column","justify-content-center","gap-3"],[1,"d-flex","align-items-center","gap-3"],["class","avatar-icon",4,"ngIf"],[1,"title"],[1,"reaction"],[1,"center-name"],[1,"avatar-icon"],[3,"src","alt"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,b,2,2,"div",3),t.j41(4,"div",4),t.EFF(5),t.j41(6,"span",5),t.EFF(7,"Liked"),t.k0s(),t.EFF(8," a Shopping Center "),t.k0s()(),t.j41(9,"div",6),t.EFF(10),t.k0s()()()),2&i&&(t.R7$(3),t.Y8G("ngIf",a.reaction.logoURL),t.R7$(2),t.Lme(" ",a.reaction.userFirstName," ",a.reaction.userLastName," "),t.R7$(5),t.SpI(" ",a.reaction.centerAddress," "))},dependencies:[c.bT],styles:[".reaction-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;width:100%}.reaction-card[_ngcontent-%COMP%]   .center-name[_ngcontent-%COMP%]{width:100%;background-color:#edf0f8;text-align:center;border-left:1px solid #ff4c4c;border-right:1px solid #ff4c4c;border-radius:.5rem;padding:.75rem;font-weight:600}.reaction-card[_ngcontent-%COMP%]   .reaction[_ngcontent-%COMP%]{font-weight:600;color:#28a745}.avatar-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;background-color:red;border-radius:50%}.avatar-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}"]})}}return e})(),_=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-submission-card"]],inputs:{submission:"submission"},decls:16,vars:10,consts:[[1,"submission-card"],[1,"dot"],[1,"d-flex","flex-column","justify-content-start","gap-2","me-auto"],[1,"title"],[1,"d-flex","align-items-center","gap-2"],[1,"avatar-icon"],[3,"src","alt"],[1,"gray-dot"],[1,"time"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.j41(2,"div",2)(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"div",4)(6,"div",5),t.nrm(7,"img",6),t.k0s(),t.j41(8,"div"),t.EFF(9),t.k0s(),t.nrm(10,"div",7),t.j41(11,"div"),t.EFF(12),t.k0s()(),t.j41(13,"div",8),t.EFF(14),t.nI1(15,"date"),t.k0s()()()),2&i&&(t.R7$(4),t.SpI(" ",a.submission.centerAddress," "),t.R7$(3),t.FS9("src",a.submission.logoURL,t.B4B),t.FS9("alt",a.submission.orgName),t.R7$(2),t.SpI(" ",a.submission.orgName," "),t.R7$(3),t.Lme("",a.submission.userFirstName," ",a.submission.userLastName,""),t.R7$(2),t.SpI(" ",t.i5U(15,7,a.submission.createdDate,"mediumDate")," "))},dependencies:[c.vh],styles:[".submission-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;width:100%}.submission-card[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:.75rem;height:.75rem;border-radius:50%;background-color:#ff4c4c}.submission-card[_ngcontent-%COMP%]   .gray-dot[_ngcontent-%COMP%]{width:.75rem;height:.75rem;border-radius:50%;background-color:#e2e4e9}.submission-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.submission-card[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#707791}.avatar-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;background-color:#fff;border-radius:50%}.avatar-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}"]})}}return e})();var F=s(4700);const j=["emailContent"];function k(e,o){if(1&e&&(t.j41(0,"div")(1,"strong"),t.EFF(2,"From:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const n=t.XpG(2);t.R7$(3),t.SpI(" ",n.getCurrentEmail.fromAddress," ")}}function E(e,o){if(1&e&&(t.j41(0,"div")(1,"strong"),t.EFF(2,"To:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const n=t.XpG(2);t.R7$(3),t.SpI(" ",n.getCurrentEmail.toAddress," ")}}function x(e,o){if(1&e&&(t.j41(0,"div")(1,"strong"),t.EFF(2,"CC:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const n=t.XpG(2);t.R7$(3),t.SpI(" ",n.getCurrentEmail.cc," ")}}function y(e,o){if(1&e&&(t.j41(0,"div")(1,"strong"),t.EFF(2,"BCC:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const n=t.XpG(2);t.R7$(3),t.SpI(" ",n.getCurrentEmail.bcc," ")}}function I(e,o){if(1&e&&(t.j41(0,"span",37),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Lme(" Email ",n.selectedEmailIndex+1," of ",n.emailsContent.length," ")}}function M(e,o){if(1&e){const n=t.RV6();t.j41(0,"button",38),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.sendEmail(a.getCurrentEmail))}),t.nrm(1,"i",39),t.EFF(2," Send "),t.k0s()}}function S(e,o){if(1&e){const n=t.RV6();t.j41(0,"button",40),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.sendAllEmails())}),t.nrm(1,"i",39),t.EFF(2," Send All "),t.k0s()}}function O(e,o){if(1&e){const n=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"button",23),t.bIt("click",function(){const a=t.eBV(n).$implicit;return t.Njj(a.dismiss("Cross click"))}),t.k0s()()(),t.j41(3,"div",24)(4,"div",25)(5,"div",26)(6,"div")(7,"strong"),t.EFF(8,"Subject:"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div")(11,"strong"),t.EFF(12,"Date:"),t.k0s(),t.EFF(13),t.nI1(14,"date"),t.k0s()(),t.DNE(15,k,4,1,"div",27)(16,E,4,1,"div",27)(17,x,4,1,"div",27)(18,y,4,1,"div",27),t.k0s(),t.nrm(19,"div",28),t.k0s(),t.j41(20,"div",29)(21,"div")(22,"button",30),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.previousEmail())}),t.EFF(23," Previous Email "),t.k0s(),t.j41(24,"button",31),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.nextEmail())}),t.EFF(25," Next Email "),t.k0s(),t.DNE(26,I,2,2,"span",32),t.k0s(),t.j41(27,"div",33),t.DNE(28,M,3,0,"button",34)(29,S,3,0,"button",35),t.j41(30,"button",36),t.bIt("click",function(){const a=t.eBV(n).$implicit;return t.Njj(a.close("Close click"))}),t.EFF(31," Close "),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(9),t.SpI(" ",n.getCurrentEmail.subject,""),t.R7$(4),t.SpI(" ",t.i5U(14,12,n.getCurrentEmail.date,"medium")," "),t.R7$(2),t.Y8G("ngIf",n.getCurrentEmail.fromAddress),t.R7$(),t.Y8G("ngIf",n.getCurrentEmail.toAddress),t.R7$(),t.Y8G("ngIf",n.getCurrentEmail.cc),t.R7$(),t.Y8G("ngIf",n.getCurrentEmail.bcc),t.R7$(),t.Y8G("innerHTML",n.getCurrentEmail.body,t.npT),t.R7$(3),t.Y8G("disabled",0===n.selectedEmailIndex),t.R7$(2),t.Y8G("disabled",n.selectedEmailIndex===n.emailsContent.length-1),t.R7$(2),t.Y8G("ngIf",n.emailsContent.length>1),t.R7$(2),t.Y8G("ngIf",4==n.getCurrentEmail.direction),t.R7$(),t.Y8G("ngIf",4==n.getCurrentEmail.direction)}}let P=(()=>{class e{constructor(n,i,a){this.placeService=n,this.modalService=i,this.spinner=a,this.selectedEmailIndex=0,this.emailsContent=[]}getCampaignEmailActions(n){this.spinner.show(),this.placeService.GenericAPI({name:"GetNotificationActions",params:{NotificationId:n}}).subscribe(a=>{this.spinner.hide(),a.json&&a.json.length>0&&(this.emailsContent=a.json,this.openActionModal())})}get getCurrentEmail(){return this.emailsContent[this.selectedEmailIndex]}nextEmail(){this.selectedEmailIndex<this.emailsContent.length-1&&this.selectedEmailIndex++}previousEmail(){this.selectedEmailIndex>0&&this.selectedEmailIndex--}sendEmail(n){4===n.direction?this.placeService.GenericAPI({Name:"SendMail",MainEntity:null,Params:{MailId:n.id},Json:null}).subscribe({next:a=>{this.showToast("Email sent successfully"),this.modalService.dismissAll()}}):console.log("Email not sent - direction is not 4:",n.id)}sendAllEmails(){const n=this.emailsContent.filter(d=>4===d.direction);if(0===n.length)return void console.log("No eligible emails to send (direction = 4)");let i=n.length;n.forEach(d=>{this.placeService.GenericAPI({Name:"SendMail",MainEntity:null,Params:{MailId:d.id},Json:null}).subscribe({next:X=>{this.showToast("Emails sent successfully"),0==--i&&this.modalService.dismissAll()},error:()=>{--i}})})}showToast(n){const i=document.getElementById("customToast");document.getElementById("toastMessage").innerText=n,i.classList.add("show"),setTimeout(()=>{i.classList.remove("show")},3e3)}openActionModal(){this.modalService.open(this.emailContent,{size:"lg",centered:!0,scrollable:!0})}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(p._),t.rXU(F.Bq),t.rXU(m.ex))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-todo-card"]],viewQuery:function(i,a){if(1&i&&t.GBs(j,5),2&i){let r;t.mGM(r=t.lsd())&&(a.emailContent=r.first)}},inputs:{email:"email"},decls:27,vars:5,consts:[["emailContent",""],[1,"todo-card"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M9.98999 22.78C9.38999 22.78 8.81999 22.48 8.42999 21.95L7.23001 20.35C7.23001 20.36 7.18 20.33 7.16 20.33H6.79001C3.37001 20.33 1.25 19.4 1.25 14.79V10.79C1.25 6.58001 3.82001 5.48001 5.98001 5.29001C6.22001 5.26001 6.50001 5.25 6.79001 5.25H13.19C16.81 5.25 18.73 7.17001 18.73 10.79V14.79C18.73 15.08 18.72 15.36 18.68 15.63C18.5 17.76 17.4 20.33 13.19 20.33H12.79L11.55 21.95C11.16 22.48 10.59 22.78 9.98999 22.78ZM6.79001 6.75C6.56001 6.75 6.34 6.76 6.13 6.78C3.81 6.98 2.75 8.25001 2.75 10.79V14.79C2.75 18.22 3.81001 18.83 6.79001 18.83H7.19C7.64 18.83 8.14999 19.08 8.42999 19.44L9.63 21.05C9.85001 21.35 10.13 21.35 10.35 21.05L11.55 19.45C11.84 19.06 12.3 18.83 12.79 18.83H13.19C15.73 18.83 17 17.76 17.19 15.48C17.22 15.24 17.23 15.02 17.23 14.79V10.79C17.23 8.00001 15.98 6.75 13.19 6.75H6.79001Z","fill","#FF5A1F"],["d","M9.99023 14.1899C9.43023 14.1899 8.99023 13.7399 8.99023 13.1899C8.99023 12.6399 9.44023 12.1899 9.99023 12.1899C10.5402 12.1899 10.9902 12.6399 10.9902 13.1899C10.9902 13.7399 10.5502 14.1899 9.99023 14.1899Z","fill","#FF5A1F"],["d","M13.1899 13.6899C12.9093 13.6899 12.6899 13.4671 12.6899 13.1899C12.6899 12.9161 12.9161 12.6899 13.1899 12.6899C13.4638 12.6899 13.6899 12.9161 13.6899 13.1899C13.6899 13.4638 13.4638 13.6899 13.1899 13.6899Z","fill","#FF5A1F","stroke","#FF5A1F"],["d","M6.7998 14.1899C6.2398 14.1899 5.7998 13.7399 5.7998 13.1899C5.7998 12.6399 6.2498 12.1899 6.7998 12.1899C7.3498 12.1899 7.7998 12.6399 7.7998 13.1899C7.7998 13.7399 7.3498 14.1899 6.7998 14.1899Z","fill","#FF5A1F"],["d","M17.9401 16.29C17.7401 16.29 17.5401 16.21 17.4001 16.06C17.2401 15.9 17.1701 15.67 17.2001 15.45C17.2301 15.24 17.2401 15.02 17.2401 14.79V10.79C17.2401 8.00001 15.9901 6.75 13.2001 6.75H6.80012C6.57012 6.75 6.35015 6.76 6.14015 6.78C5.92015 6.81 5.69013 6.72999 5.53013 6.57999C5.37013 6.41999 5.28012 6.20001 5.30012 5.98001C5.48012 3.82001 6.59012 1.25 10.8001 1.25H17.2001C20.8201 1.25 22.7401 3.17001 22.7401 6.79001V10.79C22.7401 15 20.1701 16.1 18.0101 16.29C17.9801 16.29 17.9601 16.29 17.9401 16.29ZM6.92015 5.25H13.1901C16.8101 5.25 18.7301 7.17001 18.7301 10.79V14.66C20.4301 14.24 21.2301 12.99 21.2301 10.79V6.79001C21.2301 4.00001 19.9801 2.75 17.1901 2.75H10.7901C8.59014 2.75 7.35015 3.55 6.92015 5.25Z","fill","#FF5A1F"],[1,"d-flex","flex-column","justify-content-start","gap-2","me-auto"],[1,"title"],[1,"time"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M10.8333 9.16683L17.6666 2.3335","stroke","#4D65B4","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M18.3333 5.6665V1.6665H14.3333","stroke","#4D65B4","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M9.16675 1.6665H7.50008C3.33341 1.6665 1.66675 3.33317 1.66675 7.49984V12.4998C1.66675 16.6665 3.33341 18.3332 7.50008 18.3332H12.5001C16.6667 18.3332 18.3334 16.6665 18.3334 12.4998V10.8332","stroke","#4D65B4","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","customToast",1,"custom-toast"],[1,"toast-content"],["id","toastMessage"],["type","ball-scale-multiple"],[1,"modal-header","d-flex","justify-content-between"],[1,"w-100","d-flex","justify-content-end"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"min-height","75vh","max-height","75vh","overflow-y","auto"],[1,"email-meta","mb-3"],[1,"d-flex","justify-content-between"],[4,"ngIf"],[1,"email-body",3,"innerHTML"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-outline-primary","me-2",3,"click","disabled"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["class","ms-3",4,"ngIf"],[1,"div"],["type","button","class","btn btn-primary me-2",3,"click",4,"ngIf"],["type","button","class","btn btn-success me-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"ms-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"fas","fa-paper-plane"],["type","button",1,"btn","btn-success","me-2",3,"click"]],template:function(i,a){if(1&i){const r=t.RV6();t.j41(0,"div",1)(1,"div",2),t.qSk(),t.j41(2,"svg",3),t.nrm(3,"path",4)(4,"path",5)(5,"path",6)(6,"path",7)(7,"path",8),t.k0s()(),t.joV(),t.j41(8,"div",9)(9,"div",10),t.EFF(10),t.k0s(),t.j41(11,"div",11),t.EFF(12),t.nI1(13,"date"),t.k0s()(),t.j41(14,"button",12),t.bIt("click",function(){return t.eBV(r),t.Njj(a.getCampaignEmailActions(a.email.id))}),t.j41(15,"span"),t.EFF(16,"View Email"),t.k0s(),t.qSk(),t.j41(17,"svg",13),t.nrm(18,"path",14)(19,"path",15)(20,"path",16),t.k0s()()(),t.DNE(21,O,32,15,"ng-template",null,0,t.C5r),t.joV(),t.j41(23,"div",17)(24,"div",18),t.nrm(25,"p",19),t.k0s()(),t.nrm(26,"ngx-spinner",20)}2&i&&(t.R7$(10),t.SpI(" ",a.email.message," "),t.R7$(2),t.SpI(" ",t.i5U(13,2,a.email.createdDate,"mediumDate")," "))},dependencies:[c.bT,m.et,c.vh],styles:[".todo-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;width:100%}.todo-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;box-sizing:content-box;padding:.5rem;background-color:#ffefe9;border-radius:.5rem;display:flex;align-items:center;justify-content:center}.todo-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.todo-card[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#707791}.todo-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;display:flex;align-items:center;justify-content:center;gap:.5rem;border:1px solid #4d65b4;border-radius:.5rem;padding:.5rem 1rem}.todo-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;color:#4d65b4}.custom-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#333;color:#fff;padding:15px 25px;border-radius:5px;box-shadow:0 4px 8px #0003;z-index:9999;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}.custom-toast.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.toast-content[_ngcontent-%COMP%]{display:flex;align-items:center}.toast-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}}return e})();function R(e,o){if(1&e&&(t.qex(0),t.j41(1,"div",10)(2,"div",11),t.EFF(3),t.k0s(),t.j41(4,"div",12)(5,"div",13),t.EFF(6),t.k0s()()(),t.bVm()),2&e){const n=o.$implicit;t.R7$(3),t.SpI(" ",n.stageName," "),t.R7$(3),t.SpI(" ",n.kanbanOrganizations?n.kanbanOrganizations.length:0," ")}}function w(e,o){if(1&e&&(t.qex(0),t.j41(1,"div",10)(2,"div",11),t.EFF(3),t.k0s(),t.j41(4,"div",12)(5,"div",13),t.EFF(6),t.k0s()()(),t.bVm()),2&e){const n=o.$implicit;t.R7$(3),t.SpI(" ",n.stageName," "),t.R7$(3),t.SpI(" ",n.MarketSurveyShoppingCenters?n.MarketSurveyShoppingCenters.length:0," ")}}function $(e,o){if(1&e&&(t.qex(0),t.j41(1,"div",28),t.nrm(2,"app-todo-card",29),t.k0s(),t.nrm(3,"hr",28),t.bVm()),2&e){const n=o.$implicit;t.R7$(2),t.Y8G("email",n)}}function T(e,o){if(1&e&&(t.qex(0),t.j41(1,"div",28),t.nrm(2,"app-submission-card",30),t.k0s(),t.nrm(3,"hr",28),t.bVm()),2&e){const n=o.$implicit;t.R7$(2),t.Y8G("submission",n)}}function G(e,o){if(1&e&&(t.qex(0),t.j41(1,"div",28),t.nrm(2,"app-reaction-card",31),t.k0s(),t.nrm(3,"hr",28),t.bVm()),2&e){const n=o.$implicit;t.R7$(2),t.Y8G("reaction",n)}}function A(e,o){if(1&e&&(t.qex(0),t.j41(1,"div",28),t.nrm(2,"app-comment-card",32),t.k0s(),t.nrm(3,"hr",28),t.bVm()),2&e){const n=o.$implicit;t.R7$(2),t.Y8G("comment",n)}}function N(e,o){if(1&e&&(t.j41(0,"div",2)(1,"div",3),t.nrm(2,"img",4),t.j41(3,"div",5)(4,"div",6),t.EFF(5),t.k0s(),t.j41(6,"div",7)(7,"div",8),t.EFF(8),t.k0s()()(),t.j41(9,"div",9)(10,"div",10)(11,"div",11),t.EFF(12,"Owner"),t.k0s(),t.j41(13,"div",12)(14,"div",13),t.EFF(15),t.k0s()()(),t.j41(16,"div",10)(17,"div",11),t.EFF(18,"Status"),t.k0s(),t.j41(19,"div",12)(20,"div",13),t.EFF(21),t.k0s()()(),t.j41(22,"div",10)(23,"div",11),t.EFF(24,"State"),t.k0s(),t.j41(25,"div",12)(26,"div",13),t.EFF(27),t.k0s()()(),t.j41(28,"div",10)(29,"div",11),t.EFF(30,"Date Created"),t.k0s(),t.j41(31,"div",12)(32,"div",13),t.EFF(33),t.nI1(34,"date"),t.k0s()()()(),t.nrm(35,"hr",14),t.j41(36,"div",15),t.EFF(37,"Organization Cadence"),t.k0s(),t.j41(38,"div",9),t.DNE(39,R,7,2,"ng-container",16),t.k0s(),t.nrm(40,"hr",14),t.j41(41,"div",15),t.EFF(42,"Sites Cadence"),t.k0s(),t.j41(43,"div",9),t.DNE(44,w,7,2,"ng-container",16),t.k0s(),t.nrm(45,"img",17),t.k0s(),t.j41(46,"div",18)(47,"div",19)(48,"div",20)(49,"div",21)(50,"div",22),t.EFF(51,"Things To do"),t.k0s(),t.j41(52,"div",23),t.EFF(53),t.k0s()(),t.j41(54,"div",24),t.DNE(55,$,4,1,"ng-container",16),t.k0s()()(),t.j41(56,"div",25)(57,"div",20)(58,"div",21)(59,"div",22),t.EFF(60,"Submissions"),t.k0s(),t.j41(61,"div",23),t.EFF(62),t.k0s()(),t.j41(63,"div",24),t.DNE(64,T,4,1,"ng-container",16),t.k0s()()(),t.j41(65,"div",26)(66,"div",20)(67,"div",21)(68,"div",22),t.EFF(69,"Reactions"),t.k0s(),t.j41(70,"div",23),t.EFF(71),t.k0s()(),t.j41(72,"div",24),t.DNE(73,G,4,1,"ng-container",16),t.k0s()()(),t.j41(74,"div",27)(75,"div",20)(76,"div",21)(77,"div",22),t.EFF(78,"Comments"),t.k0s(),t.j41(79,"div",23),t.EFF(80),t.k0s()(),t.j41(81,"div",24),t.DNE(82,A,4,1,"ng-container",16),t.k0s()()()()()),2&e){const n=t.XpG();t.R7$(5),t.SpI(" ",n.campaignData.campaignName," "),t.R7$(3),t.SpI(" ",n.campaignData.buyBoxName," "),t.R7$(7),t.Lme(" ",n.campaignData.userFirstName," ",n.campaignData.userLastName," "),t.R7$(6),t.SpI(" ",0==n.campaignData.campaignPrivacy?"Public":"Private"," "),t.R7$(6),t.SpI(" ",n.campaignData.states," "),t.R7$(6),t.SpI(" ",t.i5U(34,17,n.campaignData.createdDate,"mediumDate")," "),t.R7$(6),t.Y8G("ngForOf",n.campaignOrgCadence.kanbanStages),t.R7$(5),t.Y8G("ngForOf",n.campaignSiteCadence.kanbanStages),t.R7$(9),t.SpI(" ",n.campaignEmails.length," "),t.R7$(2),t.Y8G("ngForOf",n.campaignEmails),t.R7$(7),t.SpI(" ",n.campaignSubmissions.length," "),t.R7$(2),t.Y8G("ngForOf",n.campaignSubmissions),t.R7$(7),t.SpI(" ",n.campaignReactions.length," "),t.R7$(2),t.Y8G("ngForOf",n.campaignReactions),t.R7$(7),t.SpI(" ",n.campaignComments.length," "),t.R7$(2),t.Y8G("ngForOf",n.campaignComments)}}const D=[{path:"",component:(()=>{class e{constructor(n,i,a,r){this.activatedRoute=n,this.placeService=i,this.spinner=a,this.breadcrumbService=r,this.campaignSubmissions=[],this.campaignReactions=[],this.campaignComments=[],this.campaignEmails=[],this.componentLoaded=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(n=>{const i=n.get("id");i&&(this.campaignId=+i)}),this.breadcrumbService.addBreadcrumb({label:"At a glance",url:`/campaigns/ataglance/${this.campaignId}`}),this.initializeAtaglance()}initializeAtaglance(){this.spinner.show(),(0,C.p)({campaign:this.getCampaignData(),submissions:this.getCampaignSubmissions(),reactions:this.getCampaignReactions(),comments:this.getCampaignComments(),orgCadence:this.getCampaignOrgCadence(),siteCadence:this.getCampaignSiteCadence(),emails:this.getCampaignEmails()}).subscribe({next:n=>{this.spinner.hide(),n.campaign.json&&n.campaign.json.length>0&&(this.campaignData=n.campaign.json[0]),n.submissions.json&&n.submissions.json.length>0&&(this.campaignSubmissions=n.submissions.json),n.reactions.json&&n.reactions.json.length>0&&(this.campaignReactions=n.reactions.json),n.comments.json&&n.comments.json.length>0&&(this.campaignComments=n.comments.json),n.orgCadence.json&&n.orgCadence.json.length>0&&(this.campaignOrgCadence=n.orgCadence.json[0]),n.siteCadence.json&&n.siteCadence.json.length>0&&(this.campaignSiteCadence=n.siteCadence.json[0]),n.emails.json&&n.emails.json.length>0&&(this.campaignEmails=n.emails.json),this.componentLoaded=!0},error:n=>{console.error("Error:",n)}})}getCampaignData(){return this.placeService.GenericAPI({name:"GetCampaignDetails",params:{CampaignId:this.campaignId}})}getCampaignSubmissions(){return this.placeService.GenericAPI({name:"GetCampaignSubmissions",params:{CampaignId:this.campaignId}})}getCampaignReactions(){return this.placeService.GenericAPI({name:"GetCampaignReactions",params:{CampaignId:this.campaignId}})}getCampaignComments(){return this.placeService.GenericAPI({name:"GetCampaignComments",params:{CampaignId:this.campaignId}})}getCampaignOrgCadence(){return this.placeService.GenericAPI({name:"GetStagesOrgs",params:{CampaignId:this.campaignId}})}getCampaignSiteCadence(){return this.placeService.GenericAPI({name:"GetStagesShoppingCenters",params:{CampaignId:this.campaignId}})}getCampaignEmails(){return this.placeService.GenericAPI({name:"GetCampaignEmails",params:{CampaignId:this.campaignId}})}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(l.nX),t.rXU(p._),t.rXU(m.ex),t.rXU(u.b))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-ataglance"]],decls:2,vars:1,consts:[["class","container-fluid",4,"ngIf"],["type","ball-scale-multiple"],[1,"container-fluid"],[1,"campaign-information"],["src","../../../assets/Images/pattern-1.png","alt","pattern",1,"pattern-top"],[1,"d-flex","flex-column","align-items-center","justify-content-center","gap-3","mb-3"],[1,"campaign-name"],[1,"d-flex","align-items-center","gap-2"],[1,"buybox-name"],[1,"d-flex","align-items-center","justify-content-around","gap-2"],[1,"w-100","d-flex","flex-column","align-items-center","justify-content-center","gap-2"],[1,"campaign-section-title"],[1,"campaign-section-body"],[1,"campaign-section-body-name"],[1,"campaign-hr"],[1,"campaign-name","text-center","mb-3"],[4,"ngFor","ngForOf"],["src","../../../assets/Images/pattern-1.png","alt","pattern",1,"pattern-bottom"],[1,"w-100","row","g-4"],[1,"col-md-8","col-12","ps-md-0"],[1,"ataglance-section"],[1,"ataglance-section-header"],[1,"title"],[1,"padge"],[1,"ataglance-section-body"],[1,"col-md-4","col-12","pe-md-0"],[1,"col-md-4","col-12","ps-md-0"],[1,"col-md-4","col-12"],[1,"w-100"],[3,"email"],[3,"submission"],[3,"reaction"],[3,"comment"]],template:function(i,a){1&i&&(t.DNE(0,N,83,20,"div",0),t.nrm(1,"ngx-spinner",1)),2&i&&t.Y8G("ngIf",a.componentLoaded)},dependencies:[c.Sq,c.bT,m.et,h,v,_,P,c.vh],styles:[".container-fluid[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;gap:1.5rem;margin-bottom:1rem}.back-to-campaign[_ngcontent-%COMP%]{color:#707791}.campaign-information[_ngcontent-%COMP%]{width:100%;background-color:#2e3d6c;padding:2rem;border-radius:1rem;color:#fff;position:relative}.campaign-name[_ngcontent-%COMP%]{font-size:x-large;font-weight:600}.campaign-hr[_ngcontent-%COMP%]{margin:2rem}.campaign-section-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.campaign-section-body-name[_ngcontent-%COMP%]{font-weight:600}.pattern-top[_ngcontent-%COMP%]{position:absolute;top:0;left:0;-webkit-user-select:none;user-select:none}.pattern-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;transform:rotate(180deg);-webkit-user-select:none;user-select:none}.ataglance-section[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;border-radius:1rem;height:75vh;display:flex;flex-direction:column}.ataglance-section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:2rem}.ataglance-section-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000;font-weight:600}.ataglance-section-header[_ngcontent-%COMP%]   .padge[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;box-sizing:content-box;padding:.5rem;background-color:#ff4c4c;color:#fff;font-size:.75rem}.ataglance-section-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;gap:1rem;flex:1;overflow-y:auto;padding-right:.25rem}"]})}}return e})()}];let V=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[l.iI.forChild(D),l.iI]})}}return e})(),B=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[c.MD,V,m.PO]})}}return e})()}}]);