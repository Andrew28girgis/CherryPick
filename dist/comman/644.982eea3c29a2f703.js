"use strict";(self.webpackChunkcomman=self.webpackChunkcomman||[]).push([[644],{644:(T,s,r)=>{r.r(s),r.d(s,{OrganizationsModule:()=>G});var c=r(177),g=r(483),t=r(4438),p=r(3259),m=r(493);let h=(()=>{class n{constructor(){this.organizations=[]}setOrganizations(i){this.organizations=[...i]}getOrganizations(){return this.organizations.length?this.organizations:[]}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var l=r(9670),f=r(4700);const z=(n,e)=>e.ID;function u(n,e){if(1&n){const i=t.RV6();t.j41(0,"div",7),t.bIt("click",function(){t.eBV(i);const o=t.XpG(),d=t.sdS(8);return t.Njj(o.openOrganizationOffcanvas(d))}),t.qSk(),t.j41(1,"svg",8),t.nrm(2,"path",9),t.k0s()()}}function v(n,e){if(1&n&&(t.j41(0,"div",19),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",i.Email," ")}}function _(n,e){if(1&n&&(t.j41(0,"div",20),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",i.CellPhone," ")}}function C(n,e){if(1&n&&(t.j41(0,"div",14)(1,"div",16),t.EFF(2),t.k0s(),t.DNE(3,v,2,1,"div",17)(4,_,2,1,"div",18),t.k0s()),2&n){const i=t.XpG().$implicit;t.R7$(2),t.Lme(" ",i.Firstname," ",i.Lastname," "),t.R7$(),t.Y8G("ngIf",i.Email),t.R7$(),t.Y8G("ngIf",i.CellPhone)}}function O(n,e){1&n&&t.DNE(0,C,5,4,"div",15),2&n&&t.Y8G("ngIf",e.$implicit.ID)}function k(n,e){if(1&n){const i=t.RV6();t.j41(0,"div",10)(1,"div",2)(2,"div",3),t.nrm(3,"img",4),t.k0s(),t.j41(4,"div",5),t.EFF(5),t.k0s()(),t.j41(6,"button",11),t.bIt("click",function(){const o=t.eBV(i).$implicit;return t.Njj(o.dismiss("Cross click"))}),t.k0s()(),t.nrm(7,"hr"),t.j41(8,"div",12)(9,"div",13),t.Z7z(10,O,1,1,"div",14,z),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(3),t.Y8G("src","https://api.cherrypick.com/api/Organization/GetOrgImag?orgId="+i.organization.id,t.B4B)("alt",i.organization.name),t.R7$(2),t.SpI(" ",i.organization.name," "),t.R7$(5),t.Dyx(i.organization.contact)}}let b=(()=>{class n{constructor(i){this.offcanvasService=i}openOrganizationOffcanvas(i){this.offcanvasService.open(i,{position:"end"})}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(f.RS))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-organization-card"]],inputs:{organization:"organization"},decls:9,vars:4,consts:[["content",""],[1,"organization-card"],[1,"d-flex","align-items-center","gap-2"],[1,"organization-logo"],[3,"src","alt"],[1,"organization-name"],["class","view-contacts-btn ms-auto",3,"click",4,"ngIf"],[1,"view-contacts-btn","ms-auto",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M7.42505 16.6L12.8584 11.1667C13.5 10.525 13.5 9.47503 12.8584 8.83336L7.42505 3.40002","stroke","#707791","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],[1,"offcanvas-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"w-100","d-flex","flex-column","align-items-center","justify-content","start","gap-3"],[1,"contact-card"],["class","contact-card",4,"ngIf"],[1,"contact-name"],["class","contact-email",4,"ngIf"],["class","contact-phone",4,"ngIf"],[1,"contact-email"],[1,"contact-phone"]],template:function(a,o){1&a&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"img",4),t.k0s(),t.j41(4,"div",5),t.EFF(5),t.k0s(),t.DNE(6,u,3,0,"div",6),t.k0s()(),t.DNE(7,k,12,3,"ng-template",null,0,t.C5r)),2&a&&(t.R7$(3),t.Y8G("src","https://api.cherrypick.com/api/Organization/GetOrgImag?orgId="+o.organization.id,t.B4B)("alt",o.organization.name),t.R7$(2),t.SpI(" ",o.organization.name," "),t.R7$(),t.Y8G("ngIf",o.organization.contact.length&&o.organization.contact[0].ID))},dependencies:[c.bT],styles:[".organization-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;padding:1rem;box-shadow:#959da533 0 8px 24px}.organization-logo[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;overflow:hidden}.organization-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.organization-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.view-contacts-btn[_ngcontent-%COMP%]{cursor:pointer}.contact-card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;gap:.5rem;background-color:#fff;border:1px solid #e2e4e9;border-radius:.5rem;padding:1rem}.contact-name[_ngcontent-%COMP%]{font-weight:600}.contact-email[_ngcontent-%COMP%], .contact-phone[_ngcontent-%COMP%]{color:#707791}"]})}}return n})();const w=(n,e)=>e.id,x=()=>[20,30,40],j=()=>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];function P(n,e){if(1&n&&(t.j41(0,"article",3),t.nrm(1,"app-organization-card",4),t.k0s()),2&n){const i=e.$implicit;t.R7$(),t.Y8G("organization",i)}}function I(n,e){if(1&n&&t.Z7z(0,P,2,1,"article",3,w),2&n){const i=t.XpG();t.Dyx(i.paginatedOrganizations)}}function y(n,e){1&n&&(t.j41(0,"article",3)(1,"div",5)(2,"div",6),t.nrm(3,"div",7)(4,"div",8),t.j41(5,"div",9),t.nrm(6,"div",10),t.k0s()()()())}function M(n,e){1&n&&t.Z7z(0,y,7,0,"article",3,t.Vm6),2&n&&t.Dyx(t.lJ4(0,j))}const $=[{path:"",component:(()=>{class n{constructor(i,a,o){this.placeService=i,this.breadcrumbService=a,this.organizationsService=o,this.first=0,this.rows=20,this.organizations=[],this.paginatedOrganizations=[],this.dataLoaded=!1}ngOnInit(){this.breadcrumbService.clearBreadcrumbs(),this.getAllOrganizations()}getAllOrganizations(){const i=this.organizationsService.getOrganizations();if(i.length)return this.organizations=[...i],this.paginatedOrganizations=this.organizations.slice(this.first,this.first+this.rows),void(this.dataLoaded=!0);this.placeService.GenericAPI({Name:"GetAllOrganizations",Params:{}}).subscribe(o=>{this.dataLoaded=!0,o.json&&o.json.length&&(this.organizations=o.json,this.paginatedOrganizations=this.organizations.slice(this.first,this.first+this.rows),this.organizationsService.setOrganizations(o.json))})}onPageChange(i){this.first=i.first??0,this.rows=i.rows??10,this.paginatedOrganizations=this.organizations.slice(this.first,this.first+this.rows),window.scrollTo({top:0,behavior:"smooth"})}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(p._),t.rXU(m.b),t.rXU(h))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-organizations-list"]],decls:5,vars:6,consts:[[1,"container-fluid","organizations-container"],[1,"row","g-4","mb-5"],[3,"onPageChange","first","rows","totalRecords","rowsPerPageOptions"],[1,"col-sm-6","col-lg-4","col-12"],[3,"organization"],[1,"organization-card"],[1,"d-flex","align-items-center","gap-2"],[1,"organization-logo","skeleton","skeleton-img"],[1,"skeleton","skeleton-text",2,"width","60%"],[1,"view-contacts-btn","ms-auto"],[1,"skeleton","skeleton-btn"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"section",1),t.DNE(2,I,2,0)(3,M,2,1),t.k0s(),t.j41(4,"p-paginator",2),t.bIt("onPageChange",function(R){return o.onPageChange(R)}),t.k0s()()),2&a&&(t.R7$(2),t.vxM(2,o.dataLoaded?2:3),t.R7$(2),t.Y8G("first",o.first)("rows",o.rows)("totalRecords",o.organizations.length)("rowsPerPageOptions",t.lJ4(5,x)))},dependencies:[l.m,b],styles:['.organizations-container[_ngcontent-%COMP%]{padding-block:2rem}.skeleton[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e2e2e2;border-radius:4px}.skeleton[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;height:100%;width:200%;background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.5) 50%,transparent 100%);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.skeleton-text[_ngcontent-%COMP%]{height:20px;width:75%}.skeleton-img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:8px;margin-right:10px}.skeleton-btn[_ngcontent-%COMP%]{height:36px;width:36px;border-radius:50%}  .p-paginator-element{border-radius:.5rem!important}  .p-paginator-pages{display:flex!important;align-items:center!important;gap:.5rem!important}  .p-dropdown-items-wrapper{border-radius:.5rem!important}  .p-dropdown-items{padding:0!important}  .p-dropdown-items li{padding:0!important;padding-block:.75rem!important;text-align:center!important}']})}}return n})()}];let F=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild($),g.iI]})}}return n})(),G=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[c.MD,F,l.I]})}}return n})()}}]);