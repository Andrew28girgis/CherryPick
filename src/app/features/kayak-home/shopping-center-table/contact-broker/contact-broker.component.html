<div *ngIf="center" class="contact-broker-container">
  <div class="contact-broker-header">
    @switch (currentStep) { @case (1) {
    <div class="center-name">
      Composing email for shopping center : {{ center.CenterName }}
    </div>
    } @case (2) {
    <div class="center-name">
      Do you want to also include these shopping centers?
    </div>
    <div class="center-name ms-auto me-2">
      {{ center.CenterName }}
    </div>
    } @case (3) {
    <div class="center-name">
      Composing email for shopping center : {{ center.CenterName }}
    </div>
    } @case (4) {
    <div class="center-name">
      Composing email for shopping center : {{ center.CenterName }}
    </div>
    }}
    <div
      class="close-icon"
      [ngClass]="{
        'ms-auto': currentStep == 1 || currentStep == 3 || currentStep == 4
      }"
      (click)="closeActiveModal()"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="close">
        <path
          d="M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"
        ></path>
      </svg>
    </div>
  </div>

  <div class="contact-broker-stepper">
    <ul>
      @for (step of stepperSteps; track $index) {
      <li [ngClass]="{ 'active-step': step <= currentStep }"></li>
      }
    </ul>
  </div>

  @switch (currentStep) { @case (1) {
  <div class="contact-broker-step step-one">
    <div class="step-header">
      <div class="step-number-icon">
        {{ currentStep }}
      </div>
      <div class="step-title">Choose Brokers</div>
    </div>
    <div class="step-content">
      <app-choose-broker
        [contacts]="center.ShoppingCenter.ManagerOrganization"
        (onStepDone)="onStepDone($event)"
      ></app-choose-broker>
    </div>
  </div>
  } @case (2) {
  <div class="contact-broker-step step-two">
    <div class="step-header">
      <div class="step-number-icon">
        {{ currentStep }}
      </div>
    </div>
    <div class="step-content">
      <app-managed-by-broker
        [center]="center"
        (onStepDone)="onStepDone($event)"
      ></app-managed-by-broker>
    </div>
  </div>
  } @case (3) {
  <div class="contact-broker-step step-three">
    <div class="step-header">
      <div class="step-number-icon">
        {{ currentStep }}
      </div>
    </div>
    <div class="step-content">
      <app-generate-email
        [buyBoxId]="buyboxId"
        [center]="center"
        [chooseBrokerObject]="chooseBrokerObject"
        [managedByBrokerArray]="managedByBrokerArray"
        (onStepDone)="onStepDone($event)"
      ></app-generate-email>
    </div>
  </div>
  }
  <!-- @case (4) {
  <div class="contact-broker-step step-three">
    <div class="step-header">
      <div class="step-number-icon">
        {{ currentStep }}
      </div>
      <div class="step-title">Preview Emails</div>
    </div>
    <div class="step-content">
      <app-preview-email
        [mailContextId]="mailContextId"
        (onStepDone)="onStepDone($event)"
      ></app-preview-email>
    </div>
  </div>
  } -->
 }
</div>
