<div class="d-flex align-items-center justify-content-start my-4">
  <div class="progress-container w-100" *ngIf="!hidden">
    <div class="main-text mb-2">
      {{ currentMailsCount }} read from {{ realEstateMailsCount }} total emails
    </div>
    <div class="progress-section">
      <div class="progress-bar-container">
        <div class="progress-bar">
          <div
            class="progress-fill"
            [style.width.%]="calculateProgress()"
          ></div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="d-flex align-items-center justify-content-around gap-2 w-100">
  @for (item of gemsData; track item; let i = $index) {
  <div
    class="d-flex flex-column align-items-center justify-content-center gap-2"
  >
    <div
      class="diamond-wrapper"
      [class.active]="gemsStates[i] !== 'idle'"
      [class.complete]="gemsStates[i] === 'complete'"
    >
      @switch (i) { @case (0) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="188"
        height="160"
        viewBox="0 0 188 160"
        fill="none"
      >
        <g [attr.fill]="gemsStates[i] !== 'idle' ? '#FF961C' : '#E0E0E0'">
          <path
            d="M42.1481 5.33606L0.666626 55.7322L42.1481 71.3724L66.3456 12.2872L42.1481 5.33606Z"
          />
          <path
            d="M66.3456 12.2872L42.1481 71.3724H145.852L121.654 12.2872H66.3456Z"
          />
          <path d="M42.1481 71.3724L94 160L145.852 71.3724H42.1481Z" />
          <path
            d="M0.666626 55.7322L94 160L42.1481 71.3724L0.666626 55.7322Z"
          />
          <path d="M94 160L187.333 55.7322L145.852 71.3724L94 160Z" />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3724L187.333 55.7322Z"
          />
          <path
            d="M42.1481 5.33606L66.3456 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
          />
        </g>
        <g style="mix-blend-mode: soft-light">
          <path
            d="M42.1481 5.33606L0.666626 55.7322L42.1481 71.3723L66.3456 12.2872L42.1481 5.33606Z"
            fill="url(#grad0)"
          />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3723L187.333 55.7322Z"
            fill="url(#grad5)"
          />
          <path
            d="M42.1481 5.33606L66.3456 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
            fill="url(#grad6)"
          />
        </g>
        <path
          d="M66.3456 12.2872L42.1481 71.3723H145.852L121.654 12.2872H66.3456Z"
          fill="url(#grad1)"
          style="mix-blend-mode: plus-lighter"
        />
        <g style="mix-blend-mode: overlay">
          <path
            d="M42.1481 71.3723L94 160L145.852 71.3723H42.1481Z"
            fill="url(#grad2)"
          />
          <path
            d="M94 160L187.333 55.7322L145.852 71.3723L94 160Z"
            fill="url(#grad4)"
          />
        </g>
        <path
          d="M0.666626 55.7322L94 160L42.1481 71.3723L0.666626 55.7322Z"
          fill="url(#grad3)"
          style="mix-blend-mode: soft-light"
        />
        <defs>
          <linearGradient
            id="grad0"
            x1="66"
            y1="12.2353"
            x2="41.4701"
            y2="70.6015"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#494949" />
            <stop offset="1" stop-color="#E9E9E9" />
          </linearGradient>
          <linearGradient
            id="grad1"
            x1="94"
            y1="10.4348"
            x2="94"
            y2="71.3043"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="white" stop-opacity="0.8" />
            <stop offset="1" stop-color="white" stop-opacity="0" />
          </linearGradient>
          <linearGradient
            id="grad2"
            x1="94"
            y1="71.3043"
            x2="94"
            y2="160"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#4C4C4C" />
            <stop offset="1" stop-color="#B8B8B8" />
          </linearGradient>
          <linearGradient
            id="grad3"
            x1="42.1481"
            y1="71.3043"
            x2="94.4785"
            y2="159.717"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#565656" />
            <stop offset="1" stop-color="#FAFAFA" />
          </linearGradient>
          <linearGradient
            id="grad4"
            x1="147.544"
            y1="72"
            x2="93.6213"
            y2="159.767"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#323232" />
            <stop offset="1" stop-color="#9A9A9A" />
          </linearGradient>
          <linearGradient
            id="grad5"
            x1="119.926"
            y1="8.69565"
            x2="146.127"
            y2="71.1891"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#494949" />
            <stop offset="1" stop-color="#999999" />
          </linearGradient>
          <linearGradient
            id="grad6"
            x1="94"
            y1="1.86047"
            x2="94"
            y2="12.1739"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#7C7C7C" />
            <stop offset="1" stop-color="white" />
          </linearGradient>
        </defs>
      </svg>
      } @case (1) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="188"
        height="160"
        viewBox="0 0 188 160"
        fill="none"
      >
        <g [attr.fill]="gemsStates[i] !== 'idle' ? '#2F82FF' : '#E0E0E0'">
          <path
            d="M42.1481 5.33606L0.666656 55.7322L42.1481 71.3724L66.3457 12.2872L42.1481 5.33606Z"
          />
          <path
            d="M66.3457 12.2872L42.1481 71.3724H145.852L121.654 12.2872H66.3457Z"
          />
          <path d="M42.1481 71.3724L94 160L145.852 71.3724H42.1481Z" />
          <path
            d="M0.666656 55.7322L94 160L42.1481 71.3724L0.666656 55.7322Z"
          />
          <path d="M94 160L187.333 55.7322L145.852 71.3724L94 160Z" />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3724L187.333 55.7322Z"
          />
          <path
            d="M42.1481 5.33606L66.3457 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
          />
        </g>
        <g style="mix-blend-mode: soft-light">
          <path
            d="M42.1481 5.33606L0.666656 55.7322L42.1481 71.3723L66.3457 12.2872L42.1481 5.33606Z"
            fill="url(#grad0)"
          />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3723L187.333 55.7322Z"
            fill="url(#grad5)"
          />
          <path
            d="M42.1481 5.33606L66.3457 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
            fill="url(#grad6)"
          />
        </g>
        <path
          d="M66.3457 12.2872L42.1481 71.3723H145.852L121.654 12.2872H66.3457Z"
          fill="url(#grad1)"
          style="mix-blend-mode: plus-lighter"
        />
        <g style="mix-blend-mode: overlay">
          <path
            d="M42.1481 71.3723L94 160L145.852 71.3723H42.1481Z"
            fill="url(#grad2)"
          />
          <path
            d="M94 160L187.333 55.7322L145.852 71.3723L94 160Z"
            fill="url(#grad4)"
          />
        </g>
        <path
          d="M0.666656 55.7322L94 160L42.1481 71.3723L0.666656 55.7322Z"
          fill="url(#grad3)"
          style="mix-blend-mode: soft-light"
        />
      </svg>
      } @case (2) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="188"
        height="160"
        viewBox="0 0 188 160"
        fill="none"
      >
        <g [attr.fill]="gemsStates[i] !== 'idle' ? '#B158E7' : '#E0E0E0'">
          <path
            d="M42.1482 5.33606L0.666687 55.7322L42.1482 71.3724L66.3457 12.2872L42.1482 5.33606Z"
          />
          <path
            d="M66.3457 12.2872L42.1482 71.3724H145.852L121.654 12.2872H66.3457Z"
          />
          <path d="M42.1482 71.3724L94 160L145.852 71.3724H42.1482Z" />
          <path
            d="M0.666687 55.7322L94 160L42.1482 71.3724L0.666687 55.7322Z"
          />
          <path d="M94 160L187.333 55.7322L145.852 71.3724L94 160Z" />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3724L187.333 55.7322Z"
          />
          <path
            d="M42.1482 5.33606L66.3457 12.2872H121.654L145.852 5.33606L94 0L42.1482 5.33606Z"
          />
        </g>
        <g style="mix-blend-mode: soft-light">
          <path
            d="M42.1481 5.33606L0.666626 55.7322L42.1481 71.3723L66.3456 12.2872L42.1481 5.33606Z"
            fill="url(#grad0)"
          />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3723L187.333 55.7322Z"
            fill="url(#grad5)"
          />
          <path
            d="M42.1481 5.33606L66.3456 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
            fill="url(#grad6)"
          />
        </g>
        <path
          d="M66.3456 12.2872L42.1481 71.3723H145.852L121.654 12.2872H66.3456Z"
          fill="url(#grad1)"
          style="mix-blend-mode: plus-lighter"
        />
        <g style="mix-blend-mode: overlay">
          <path
            d="M42.1481 71.3723L94 160L145.852 71.3723H42.1481Z"
            fill="url(#grad2)"
          />
          <path
            d="M94 160L187.333 55.7322L145.852 71.3723L94 160Z"
            fill="url(#grad4)"
          />
        </g>
        <path
          d="M0.666626 55.7322L94 160L42.1481 71.3723L0.666626 55.7322Z"
          fill="url(#grad3)"
          style="mix-blend-mode: soft-light"
        />
      </svg>
      } @case (3) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="188"
        height="160"
        viewBox="0 0 188 160"
        fill="none"
      >
        <g [attr.fill]="gemsStates[i] !== 'idle' ? '#FF6A8E' : '#E0E0E0'">
          <path
            d="M42.1481 5.33606L0.666626 55.7322L42.1481 71.3724L66.3456 12.2872L42.1481 5.33606Z"
          />
          <path
            d="M66.3456 12.2872L42.1481 71.3724H145.852L121.654 12.2872H66.3456Z"
          />
          <path d="M42.1481 71.3724L94 160L145.852 71.3724H42.1481Z" />
          <path
            d="M0.666626 55.7322L94 160L42.1481 71.3724L0.666626 55.7322Z"
          />
          <path d="M94 160L187.333 55.7322L145.852 71.3724L94 160Z" />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3724L187.333 55.7322Z"
          />
          <path
            d="M42.1481 5.33606L66.3456 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
          />
        </g>
        <g style="mix-blend-mode: soft-light">
          <path
            d="M42.1481 5.33606L0.666626 55.7322L42.1481 71.3723L66.3456 12.2872L42.1481 5.33606Z"
            fill="url(#grad0)"
          />
          <path
            d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3723L187.333 55.7322Z"
            fill="url(#grad5)"
          />
          <path
            d="M42.1481 5.33606L66.3456 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
            fill="url(#grad6)"
          />
        </g>
        <path
          d="M66.3456 12.2872L42.1481 71.3723H145.852L121.654 12.2872H66.3456Z"
          fill="url(#grad1)"
          style="mix-blend-mode: plus-lighter"
        />
        <g style="mix-blend-mode: overlay">
          <path
            d="M42.1481 71.3723L94 160L145.852 71.3723H42.1481Z"
            fill="url(#grad2)"
          />
          <path
            d="M94 160L187.333 55.7322L145.852 71.3723L94 160Z"
            fill="url(#grad4)"
          />
        </g>
        <path
          d="M0.666626 55.7322L94 160L42.1481 71.3723L0.666626 55.7322Z"
          fill="url(#grad3)"
          style="mix-blend-mode: soft-light"
        />
      </svg>
      } @case (4) {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="188"
        height="160"
        viewBox="0 0 188 160"
        fill="none"
      >
        <path
          d="M42.1481 5.33606L0.666626 55.7322L42.1481 71.3724L66.3456 12.2872L42.1481 5.33606Z"
          [attr.fill]="
            gemsStates[i] !== 'idle' ? getDiamondColor(i) : '#E0E0E0'
          "
        />
        <path
          d="M66.3456 12.2872L42.1481 71.3724H145.852L121.654 12.2872H66.3456Z"
          [attr.fill]="
            gemsStates[i] !== 'idle' ? getDiamondColor(i) : '#E0E0E0'
          "
        />
        <path
          d="M42.1481 71.3724L94 160L145.852 71.3724H42.1481Z"
          [attr.fill]="
            gemsStates[i] !== 'idle' ? getDiamondColor(i) : '#E0E0E0'
          "
        />
        <path
          d="M0.666626 55.7322L94 160L42.1481 71.3724L0.666626 55.7322Z"
          [attr.fill]="
            gemsStates[i] !== 'idle' ? getDiamondColor(i) : '#E0E0E0'
          "
        />
        <path
          d="M94 160L187.333 55.7322L145.852 71.3724L94 160Z"
          [attr.fill]="
            gemsStates[i] !== 'idle' ? getDiamondColor(i) : '#E0E0E0'
          "
        />
        <path
          d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3724L187.333 55.7322Z"
          [attr.fill]="
            gemsStates[i] !== 'idle' ? getDiamondColor(i) : '#E0E0E0'
          "
        />
        <path
          d="M42.1481 5.33606L66.3456 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
          [attr.fill]="
            gemsStates[i] !== 'idle' ? getDiamondColor(i) : '#E0E0E0'
          "
        />
        <path
          d="M42.1481 5.33606L0.666626 55.7322L42.1481 71.3723L66.3456 12.2872L42.1481 5.33606Z"
          fill="url(#paint7_linear_10_25)"
          style="mix-blend-mode: soft-light"
        />
        <path
          d="M66.3456 12.2872L42.1481 71.3723H145.852L121.654 12.2872H66.3456Z"
          fill="url(#paint8_linear_10_25)"
          fill-opacity="0.44"
          style="mix-blend-mode: plus-lighter"
        />
        <path
          d="M42.1481 71.3723L94 160L145.852 71.3723H42.1481Z"
          fill="url(#paint9_linear_10_25)"
          style="mix-blend-mode: overlay"
        />
        <path
          d="M0.666626 55.7322L94 160L42.1481 71.3723L0.666626 55.7322Z"
          fill="url(#paint10_linear_10_25)"
          style="mix-blend-mode: soft-light"
        />
        <path
          d="M94 160L187.333 55.7322L145.852 71.3723L94 160Z"
          fill="url(#paint11_linear_10_25)"
          style="mix-blend-mode: overlay"
        />
        <path
          d="M187.333 55.7322L145.852 5.33606L121.654 12.2872L145.852 71.3723L187.333 55.7322Z"
          fill="url(#paint12_linear_10_25)"
          style="mix-blend-mode: soft-light"
        />
        <path
          d="M42.1481 5.33606L66.3456 12.2872H121.654L145.852 5.33606L94 0L42.1481 5.33606Z"
          fill="url(#paint13_linear_10_25)"
          style="mix-blend-mode: soft-light"
        />
        <defs>
          <radialGradient
            id="paint0_radial_10_25"
            cx="0"
            cy="0"
            r="1"
            gradientUnits="userSpaceOnUse"
            gradientTransform="translate(0.666617 6.71328) rotate(39.0888) scale(237.491 457.681)"
          >
            <stop stop-color="#00FFE0" />
            <stop offset="0.1875" stop-color="#EBFF00" />
            <stop offset="0.395833" stop-color="#FD9CFF" />
            <stop offset="0.602428" stop-color="#B2A6FF" />
            <stop offset="0.802083" stop-color="#00FF75" />
            <stop offset="1" stop-color="#00FFE0" />
          </radialGradient>
          <linearGradient
            id="paint7_linear_10_25"
            x1="66"
            y1="12.2353"
            x2="41.4701"
            y2="70.6015"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#494949" />
            <stop offset="1" stop-color="#E9E9E9" />
          </linearGradient>
          <linearGradient
            id="paint8_linear_10_25"
            x1="94"
            y1="10.4348"
            x2="94"
            y2="71.3043"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="white" stop-opacity="0.8" />
            <stop offset="1" stop-color="white" stop-opacity="0" />
          </linearGradient>
          <linearGradient
            id="paint9_linear_10_25"
            x1="94"
            y1="71.3043"
            x2="94"
            y2="160"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#4C4C4C" />
            <stop offset="1" stop-color="#B8B8B8" />
          </linearGradient>
          <linearGradient
            id="paint10_linear_10_25"
            x1="42.1481"
            y1="71.3043"
            x2="94.4785"
            y2="159.717"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#565656" />
            <stop offset="1" stop-color="#FAFAFA" />
          </linearGradient>
          <linearGradient
            id="paint11_linear_10_25"
            x1="147.544"
            y1="72"
            x2="93.6213"
            y2="159.767"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#323232" />
            <stop offset="1" stop-color="#9A9A9A" />
          </linearGradient>
          <linearGradient
            id="paint12_linear_10_25"
            x1="119.926"
            y1="8.69565"
            x2="146.127"
            y2="71.1891"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#494949" />
            <stop offset="1" stop-color="#999999" />
          </linearGradient>
          <linearGradient
            id="paint13_linear_10_25"
            x1="94"
            y1="1.86047"
            x2="94"
            y2="12.1739"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#7C7C7C" />
            <stop offset="1" stop-color="white" />
          </linearGradient>
        </defs>
      </svg>
      } }
    </div>
    <div class="card-content">
      <div class="stats" [class.show]="gemsStates[i] !== 'idle'">
        <div class="count-value">{{ formatNumber(item.value) }}</div>
        <div class="count-label">{{ item.label }}</div>
      </div>
    </div>
  </div>
  }
</div>

<div *ngIf="firstTimeOpen" class="w-100 d-flex justify-content-center">
  <button class="mt-4 go-to-emily">
    <span>Go to Emily</span>
  </button>
</div>
