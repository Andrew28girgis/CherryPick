<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
<div class="campaign-manager-container">
  <!-- <div style="height: 75vh; width: 100%">
    <app-campaign-drawing [userBuyBoxes]="userBuyBoxes"></app-campaign-drawing>
  </div> -->
  <!-- Search and buttons - always visible -->
  <div class="w-100 d-flex align-items-center justify-content-between">
    <!-- <div class="search-campaign-container">
      <input
        type="text"
        class="form-control search-campaign-input"
        placeholder="Search Campaigns..."
        name="searchCampaign"
        [(ngModel)]="searchCampaign"
        (input)="onSearchCampaign()"
      />
      <svg
        class="search-campaign-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
      >
        <path
          d="M11.5 21.75C5.85 21.75 1.25 17.15 1.25 11.5C1.25 5.85 5.85 1.25 11.5 1.25C17.15 1.25 21.75 5.85 21.75 11.5C21.75 17.15 17.15 21.75 11.5 21.75ZM11.5 2.75C6.67 2.75 2.75 6.68 2.75 11.5C2.75 16.32 6.67 20.25 11.5 20.25C16.33 20.25 20.25 16.32 20.25 11.5C20.25 6.68 16.33 2.75 11.5 2.75Z"
          fill="#707791"
        />
        <path
          d="M21.9999 22.7499C21.8099 22.7499 21.6199 22.6799 21.4699 22.5299L19.4699 20.5299C19.1799 20.2399 19.1799 19.7599 19.4699 19.4699C19.7599 19.1799 20.2399 19.1799 20.5299 19.4699L22.5299 21.4699C22.8199 21.7599 22.8199 22.2399 22.5299 22.5299C22.3799 22.6799 22.1899 22.7499 21.9999 22.7499Z"
          fill="#707791"
        />
      </svg>
    </div> -->
    <div
      class="d-flex align-items-center gap-3 toggle-cont"
      *ngIf="!hideViewToggles"
    >
      <div class="view-toggle">
        <button
          class="toggle-btn"
          [class.active]="viewMode === 'table'"
          (click)="toggleView('table')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="3" y1="9" x2="21" y2="9"></line>
            <line x1="3" y1="15" x2="21" y2="15"></line>
            <line x1="9" y1="3" x2="9" y2="21"></line>
            <line x1="15" y1="3" x2="15" y2="21"></line>
          </svg>
        </button>
        <button
          class="toggle-btn"
          [class.active]="viewMode === 'card'"
          (click)="toggleView('card')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
        </button>
      </div>
      <button
        class="add-new-campaign"
        (click)="openCampaignModal(campaignModal)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
        >
          <path
            d="M10.0001 18.3333C14.5834 18.3333 18.3334 14.5833 18.3334 9.99996C18.3334 5.41663 14.5834 1.66663 10.0001 1.66663C5.41675 1.66663 1.66675 5.41663 1.66675 9.99996C1.66675 14.5833 5.41675 18.3333 10.0001 18.3333Z"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M6.66675 10H13.3334"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M10 13.3333V6.66663"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        <span>Add Campaign</span>
      </button>
    </div>
  </div>

  <!-- Skeleton loading for Card View -->
  <div class="campaign-manager-body" *ngIf="isLoading && viewMode === 'card'">
    <div class="campaign-cards-container">
      <div
        class="campaign-card skeleton-card"
        *ngFor="let i of skeletonCardArray"
      >
        <div class="campaign-card-header">
          <div class="skeleton-title"></div>
          <div class="skeleton-privacy"></div>
        </div>
        <div class="tenant-section">
          <div class="d-flex align-items-center gap-2">
            <div class="skeleton-logo"></div>
            <div class="skeleton-tenant-name"></div>
          </div>
          <div class="skeleton-date"></div>
        </div>
        <div class="campaign-stats">
          <div class="stat-item">
            <div class="skeleton-stat-label"></div>
            <div class="skeleton-stat-value"></div>
          </div>
          <div class="stat-item">
            <div class="skeleton-stat-label"></div>
            <div class="skeleton-stat-value"></div>
          </div>
          <div class="stat-item">
            <div class="skeleton-stat-label"></div>
            <div class="skeleton-stat-value"></div>
          </div>
        </div>
        <div class="campaign-actions">
          <div class="skeleton-button"></div>
          <div class="skeleton-button"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Skeleton loading for Table View -->
  <div class="campaign-manager-body" *ngIf="isLoading && viewMode === 'table'">
    <div class="table-responsive">
      <table class="table align-middle">
        <thead>
          <tr>
            <th style="width: 250px">Name</th>
            <th style="text-align: center">Date</th>
            <th style="text-align: center">Privacy</th>
            <th style="text-align: center">Sites</th>
            <th style="text-align: center">Submissions</th>
            <th style="text-align: center">Sent</th>
            <th style="text-align: center">Actions</th>
            <ng-container *ngFor="let i of skeletonStagesArray">
              <th scope="col" style="text-align: center">
                <div class="skeleton-stage-header"></div>
              </th>
            </ng-container>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let i of skeletonTableArray">
            <td style="width: 250px">
              <div class="skeleton-campaign-name"></div>
              <div class="d-flex align-items-center gap-2 mt-2">
                <div class="skeleton-logo"></div>
                <div class="skeleton-tenant-name"></div>
              </div>
            </td>
            <td style="text-align: center">
              <div class="skeleton-date-cell"></div>
            </td>
            <td style="text-align: center">
              <div class="skeleton-privacy-cell"></div>
            </td>
            <td style="text-align: center">
              <div class="skeleton-sites-cell"></div>
            </td>
            <td style="text-align: center">
              <div class="skeleton-submissions-cell"></div>
            </td>
            <td style="text-align: center">
              <div class="skeleton-sent-cell"></div>
            </td>
            <td style="text-align: center">
              <div class="skeleton-actions-cell"></div>
            </td>
            <ng-container *ngFor="let j of skeletonStagesArray">
              <td style="text-align: center">
                <div class="skeleton-stage-cell"></div>
              </td>
            </ng-container>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Actual content -->
  <div
    *ngIf="
      !isLoading &&
      filteredCampaigns &&
      filteredCampaigns.length > 0 &&
      stages.length > 0
    "
    class="campaign-manager-body"
  >
    <div class="campaign-cards-container" *ngIf="viewMode === 'card'">
      <ng-container
        *ngFor="let campaign of filteredCampaigns; let index = index"
      >
        <div class="campaign-card">
          <div class="date-privacy d-flex justify-content-between">
            <div class="tenant-section-card">
              <div class="date-created-card">
                {{ (campaign.CreatedDate | date : "MMM d, y") ?? "N/A" }}
              </div>
            </div>
            <div
              class="campaign-privacy"
              [ngClass]="{
                'campaign-privacy-public': campaign.CampaignPrivacy == 0,
                'campaign-privacy-private': campaign.CampaignPrivacy == 1
              }"
            >
              <div class="campaign-privacy-icon"></div>
              <span>
                {{ campaign.CampaignPrivacy == 0 ? "Public" : "Private" }}
              </span>
            </div>
          </div>
          <div class="campaign-card-header">
            <div
              class="d-flex align-items-center gap-2 d-flex flex-column tenant-header"
            >
              <img
                *ngIf="campaign.OrganizationId"
                [src]="
                  'https://api.cherrypick.com/api/Organization/GetOrgImag?orgId=' +
                  campaign.OrganizationId
                "
                [alt]="campaign.OrganizationName"
                class="tenant-logo-card"
                (error)="onImageError($event)"
              />
              <h3
                style="cursor: pointer"
                [routerLink]="[
                  '/dashboard',
                  campaign.OrganizationId,
                  campaign.OrganizationName,
                  campaign.Id
                ]"
                class="campaign-name"
              >
                {{ campaign.CampaignName }}
              </h3>
            </div>
          </div>

          <div class="campaign-stats">
            <div class="stat-item">
              <div class="stat-label">Sites</div>
              <div class="stat-value">
                <div
                  class="d-flex align-items-center justify-content-center gap-2"
                >
                  <div>{{ campaign.Sites }}</div>
                  <svg
                    [routerLink]="[
                      '/dashboard',
                      campaign.OrganizationId,
                      campaign.OrganizationName,
                      campaign.Id
                    ]"
                    style="cursor: pointer"
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M12.9999 11.75C12.8099 11.75 12.6199 11.68 12.4699 11.53C12.1799 11.24 12.1799 10.76 12.4699 10.47L20.6699 2.26999C20.9599 1.97999 21.4399 1.97999 21.7299 2.26999C22.0199 2.55999 22.0199 3.03999 21.7299 3.32999L13.5299 11.53C13.3799 11.68 13.1899 11.75 12.9999 11.75Z"
                      fill="#292D32"
                    />
                    <path
                      d="M22 7.55C21.59 7.55 21.25 7.21 21.25 6.8V2.75H17.2C16.79 2.75 16.45 2.41 16.45 2C16.45 1.59 16.79 1.25 17.2 1.25H22C22.41 1.25 22.75 1.59 22.75 2V6.8C22.75 7.21 22.41 7.55 22 7.55Z"
                      fill="#292D32"
                    />
                    <path
                      d="M15 22.75H9C3.57 22.75 1.25 20.43 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H11C11.41 1.25 11.75 1.59 11.75 2C11.75 2.41 11.41 2.75 11 2.75H9C4.39 2.75 2.75 4.39 2.75 9V15C2.75 19.61 4.39 21.25 9 21.25H15C19.61 21.25 21.25 19.61 21.25 15V13C21.25 12.59 21.59 12.25 22 12.25C22.41 12.25 22.75 12.59 22.75 13V15C22.75 20.43 20.43 22.75 15 22.75Z"
                      fill="#292D32"
                    />
                  </svg>
                </div>
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-label">Submissions</div>
              <div
                class="d-flex align-items-center justify-content-center gap-3"
              >
                <!-- [routerLink]="['/submissions', campaign.Id]" -->
                <div *ngIf="campaign.Submissions" style="cursor: pointer">
                  <span style="color: orange" title="New Submissions">{{
                    getSubmissionsCountNew(campaign.Submissions)
                  }}</span>
                  |
                  <span
                    style="color: rgb(0, 207, 35)"
                    title="Accepted Submissions"
                    >{{
                      getSumbmissionsCountAcceppted(campaign.Submissions)
                    }}</span
                  >
                  |
                  <span
                    style="color: rgb(207, 0, 0)"
                    title="Rejected Submissions"
                    >{{
                      getSumbmissionsCountRejected(campaign.Submissions)
                    }}</span
                  >

                  <ng-container
                    *ngFor="
                      let submission of sortedSubmissions(campaign.Submissions);
                      let i = index
                    "
                  >
                  </ng-container>
                </div>
                <div *ngIf="!campaign.Submissions">N/A</div>
              </div>
            </div>
            <div class="stat-item">
              <div class="stat-label">Mails Sent</div>
              <div class="stat-value" *ngIf="campaign.MailsSent">
                {{ campaign.MailsSent }}
              </div>
            </div>
          </div>
          <!-- <a
            class="inbox text-center"
            [routerLink]="['./ataglance', campaign.Id]"
            >At a Glance</a
          > -->
          <div class="campaign-actions">
            <div class="inbox mail d-flex justify-content-between">
              <i class="fa-regular fa-envelope"></i>
              <a
                [routerLink]="[
                  '/organization-mail',
                  campaign.OrganizationId,
                  campaign.Id
                ]"
                >Emily</a
              >
            </div>

            <button
              class="expand-btn"
              (click)="toggleExpand(campaign)"
              *ngIf="campaign.Kanban"
            >
              {{ campaign.expanded ? "Hide Stages" : "Show Stages" }}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                [style.transform]="
                  campaign.expanded ? 'rotate(180deg)' : 'rotate(0)'
                "
              >
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </button>
          </div>

          <div class="campaign-stages" [class.expanded]="campaign.expanded">
            <div class="stages-grid">
              <ng-container *ngFor="let kanbanStage of campaign.Kanban">
                <div class="stage-item">
                  <div class="stage-name">{{ kanbanStage.stageName }}</div>
                  <div class="stage-value">
                    {{
                      kanbanStage.MarketSurveyShoppingCenters[0].Id
                        ? kanbanStage.MarketSurveyShoppingCenters.length
                        : 0
                    }}
                  </div>
                  <!-- <a
                    class="hyber-link"
                    *ngIf="
                      kanbanStage.stageName.toLowerCase() ==
                      'Precontact'.toLowerCase()
                    "
                    (click)="goToEmily(c, index, true)"
                    >Launch Campaign</a
                  > -->
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </ng-container>
    </div>

    <!-- Original Table View -->
    <div class="table-responsive" *ngIf="viewMode === 'table'">
      <table class="table align-middle">
        <thead>
          <tr>
            <th style="width: 250px">Name</th>
            <th style="text-align: center">Date</th>
            <th style="text-align: center">Privacy</th>
            <th style="text-align: center">Sites</th>
            <th style="text-align: center">Submissions</th>
            <th style="text-align: center">Sent</th>
            <ng-container *ngFor="let stage of stages">
              <th scope="col" style="text-align: center">
                {{ stage.stageName }}
              </th>
            </ng-container>
          </tr>
        </thead>
        <tbody>
          <ng-container
            *ngFor="let campaign of filteredCampaigns; let index = index"
          >
            <tr>
              <td style="width: 250px; vertical-align: top">
                <div
                  class="d-flex flex-column gap-2"
                  style="min-height: 100%; padding: 8px"
                >
                  <div
                    style="font-weight: 600"
                    [routerLink]="[
                      '/dashboard',
                      campaign.OrganizationId,
                      campaign.OrganizationName,
                      campaign.Id
                    ]"
                  >
                    {{ campaign.CampaignName }}
                  </div>

                  <div
                    class="d-flex align-items-center gap-2"
                    style="flex-wrap: wrap; margin-block: 5px"
                  >
                    <img
                      *ngIf="campaign.OrganizationId"
                      [src]="
                        'https://api.cherrypick.com/api/Organization/GetOrgImag?orgId=' +
                        campaign.OrganizationId
                      "
                      [alt]="campaign.OrganizationName"
                      class="tenant-logo"
                      style="width: 48px; height: 48px; border-radius: 50%"
                      (error)="onImageError($event)"
                    />
                    <span
                      class="tenant-name"
                      [routerLink]="[
                        '/dashboard',
                        campaign.OrganizationId,
                        campaign.OrganizationName,
                        campaign.Id
                      ]"
                      style="
                        font-size: 14px;
                        color: #333;
                        max-width: 150px;
                        word-break: break-word;
                      "
                    >
                      {{ campaign.OrganizationName }}
                    </span>
                  </div>
                  <div
                    class="d-flex justify-content-between align-items-center"
                  >
                    <!-- <div>
                      <a
                        class="inbox text-center"
                        [routerLink]="['./ataglance', campaign.Id]"
                        >At a Glance</a
                      >
                    </div> -->
                    <div
                      class="inbox mail text-center"
                      [routerLink]="[
                        '/organization-mail',
                        campaign.OrganizationId,
                        campaign.Id
                      ]"
                    >
                      <i class="fa-regular fa-envelope me-2"></i>
                      <a>Emily</a>
                    </div>
                  </div>
                </div>
              </td>

              <td style="text-align: center">
                {{ (campaign.CreatedDate | date : "MMM d, y") ?? "N/A" }}
              </td>
              <td style="text-align: center">
                <div
                  class="campaign-privacy"
                  [ngClass]="{
                    'campaign-privacy-public': campaign.CampaignPrivacy == 0,
                    'campaign-privacy-private': campaign.CampaignPrivacy == 1
                  }"
                >
                  <div class="campaign-privacy-icon"></div>
                  <span>
                    {{
                      campaign.CampaignPrivacy == 0 ? "Public" : "Private"
                    }}</span
                  >
                </div>
              </td>

              <td style="text-align: center">
                <div
                  class="d-flex align-items-center justify-content-center gap-3"
                >
                  <div>{{ campaign.Sites }}</div>
                  <svg
                    [routerLink]="[
                      '/dashboard',
                      campaign.OrganizationId,
                      campaign.OrganizationName,
                      campaign.Id
                    ]"
                    style="cursor: pointer"
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M12.9999 11.75C12.8099 11.75 12.6199 11.68 12.4699 11.53C12.1799 11.24 12.1799 10.76 12.4699 10.47L20.6699 2.26999C20.9599 1.97999 21.4399 1.97999 21.7299 2.26999C22.0199 2.55999 22.0199 3.03999 21.7299 3.32999L13.5299 11.53C13.3799 11.68 13.1899 11.75 12.9999 11.75Z"
                      fill="#292D32"
                    />
                    <path
                      d="M22 7.55C21.59 7.55 21.25 7.21 21.25 6.8V2.75H17.2C16.79 2.75 16.45 2.41 16.45 2C16.45 1.59 16.79 1.25 17.2 1.25H22C22.41 1.25 22.75 1.59 22.75 2V6.8C22.75 7.21 22.41 7.55 22 7.55Z"
                      fill="#292D32"
                    />
                    <path
                      d="M15 22.75H9C3.57 22.75 1.25 20.43 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H11C11.41 1.25 11.75 1.59 11.75 2C11.75 2.41 11.41 2.75 11 2.75H9C4.39 2.75 2.75 4.39 2.75 9V15C2.75 19.61 4.39 21.25 9 21.25H15C19.61 21.25 21.25 19.61 21.25 15V13C21.25 12.59 21.59 12.25 22 12.25C22.41 12.25 22.75 12.59 22.75 13V15C22.75 20.43 20.43 22.75 15 22.75Z"
                      fill="#292D32"
                    />
                  </svg>
                </div>
              </td>
              <td style="text-align: center">
                <div
                  class="d-flex align-items-center justify-content-center gap-3"
                >
                  <!-- [routerLink]="['/submissions', campaign.Id]" -->
                  <div *ngIf="campaign.Submissions" style="cursor: pointer">
                    <span style="color: orange" title="New Submissions">{{
                      getSubmissionsCountNew(campaign.Submissions)
                    }}</span>
                    |
                    <span
                      style="color: rgb(0, 207, 35)"
                      title="Accepted Submissions"
                      >{{
                        getSumbmissionsCountAcceppted(campaign.Submissions)
                      }}</span
                    >
                    |
                    <span
                      style="color: rgb(207, 0, 0)"
                      title="Rejected Submissions"
                      >{{
                        getSumbmissionsCountRejected(campaign.Submissions)
                      }}</span
                    >

                    <ng-container
                      *ngFor="
                        let submission of sortedSubmissions(
                          campaign.Submissions
                        );
                        let i = index
                      "
                    >
                    </ng-container>
                  </div>
                  <div *ngIf="!campaign.Submissions">N/A</div>
                </div>
              </td>
              <td style="text-align: center">
                <ng-container *ngIf="campaign.MailsSent">
                  {{ campaign.MailsSent }}</ng-container
                >
              </td>

              <ng-container *ngFor="let stage of stages">
                <td style="text-align: center">
                  <div
                    class="d-flex flex-column align-items-center justify-content-center gap-2"
                  >
                    <div>
                      {{ getKanbanCount(stage.stageName, campaign.Kanban) }}
                    </div>
                  </div>
                </td>
              </ng-container>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>

  <div
    *ngIf="!isLoading && !(filteredCampaigns && filteredCampaigns.length > 0)"
    class="empty-campaigns"
  >
    <img src="../../../assets/Images/empty-state.png" alt="Empty Campaigns" />
    <h4>Campaigns Will Appear Here!</h4>
    <p>Create, Track, and Manage Expansion Campaigns Here.</p>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Add Campaign</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <div class="campaign-drawing-component">
      <app-campaign-drawing
        [userBuyBoxes]="userBuyBoxes"
        (onCampaignCreated)="onCampaignCreated()"
      ></app-campaign-drawing>
    </div>
  </div>
</ng-template>

<ng-template #campaignModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="modal-basic-title" ngbAutofocus>
      Launch Your Campaign
    </h5>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form #campaignForm="ngForm">
      <div class="mb-3">
        <label
          for="minSizeInput"
          class="form-label d-flex align-items-center gap-2"
        >
          Min Size (sf) *
          <span
            class="text-danger name-isrequired"
            *ngIf="minSizeInput.invalid && minSizeInput.touched"
          >
            required
          </span>
        </label>

        <input
          type="number"
          id="minSizeInput"
          class="form-control"
          name="minSizeInput"
          required
          min="100"
          max="100000"
          step="50"
          [(ngModel)]="campaignMinSize"
          #minSizeInput="ngModel"
          [ngClass]="{
            'is-invalid': minSizeInput.invalid && minSizeInput.touched
          }"
        />

        <input
          type="range"
          id="customRange3"
          class="form-range"
          name="minSizeRange"
          min="100"
          max="100000"
          step="50"
          [(ngModel)]="campaignMinSize"
        />
      </div>

      <div class="mb-3">
        <label
          for="maxSizeInput"
          class="form-label d-flex align-items-center gap-2"
        >
          Max Size (sf) *
          <span
            class="text-danger name-isrequired"
            *ngIf="maxSizeInput.invalid && maxSizeInput.touched"
          >
            required
          </span>
        </label>

        <input
          type="number"
          id="maxSizeInput"
          class="form-control"
          name="maxSizeInput"
          required
          min="100"
          max="100000"
          step="50"
          [(ngModel)]="campaignMaxSize"
          #maxSizeInput="ngModel"
          [ngClass]="{
            'is-invalid': maxSizeInput.invalid && maxSizeInput.touched
          }"
        />

        <input
          type="range"
          id="customRange4"
          class="form-range"
          name="maxSizeRange"
          min="100"
          max="100000"
          step="50"
          [(ngModel)]="campaignMaxSize"
        />
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="x-btn x-btn-outline"
      (click)="modal.close('Save click')"
    >
      <span>Cancel</span>
    </button>

    <button
      class="x-btn x-btn-primary"
      [disabled]="campaignForm.invalid || campaignMaxSize < campaignMinSize"
      (click)="navigateToCampaign()"
    >
      <span>Get Start</span>
    </button>
  </div>
</ng-template>

<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
