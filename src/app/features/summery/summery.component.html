<div class="main">
  <div class="header-container">
    <div class="d-flex flex-row w-100  " style="gap: 12px;">
    <div class="search-section">
      <div class="search-container">
        <div class="icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
          >
            <path
              d="M9.58366 18.1248C4.87533 18.1248 1.04199 14.2915 1.04199 9.58317C1.04199 4.87484 4.87533 1.0415 9.58366 1.0415C14.292 1.0415 18.1253 4.87484 18.1253 9.58317C18.1253 14.2915 14.292 18.1248 9.58366 18.1248ZM9.58366 2.2915C5.55866 2.2915 2.29199 5.5665 2.29199 9.58317C2.29199 13.5998 5.55866 16.8748 9.58366 16.8748C13.6087 16.8748 16.8753 13.5998 16.8753 9.58317C16.8753 5.5665 13.6087 2.2915 9.58366 2.2915Z"
              fill="#704E73"
            />
            <path
              d="M18.3335 18.9585C18.1752 18.9585 18.0169 18.9002 17.8919 18.7752L16.2252 17.1085C15.9835 16.8669 15.9835 16.4669 16.2252 16.2252C16.4669 15.9835 16.8669 15.9835 17.1085 16.2252L18.7752 17.8919C19.0169 18.1335 19.0169 18.5335 18.7752 18.7752C18.6502 18.9002 18.4919 18.9585 18.3335 18.9585Z"
              fill="#704E73"
            />
          </svg>
        </div>

        <input
          type="text"
          class="search-input"
          placeholder="Search..."
          [(ngModel)]="searchQuery"
          (ngModelChange)="filterTenants()"
        />
      </div>
    </div>

    </div>
    <button class="add-tenant-btn" (click)="openAddTenantModal(tenantModal)">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
      >
        <path
          d="M10.0001 18.3333C14.5834 18.3333 18.3334 14.5833 18.3334 9.99996C18.3334 5.41663 14.5834 1.66663 10.0001 1.66663C5.41675 1.66663 1.66675 5.41663 1.66675 9.99996C1.66675 14.5833 5.41675 18.3333 10.0001 18.3333Z"
          stroke="white"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M6.66675 10H13.3334"
          stroke="white"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M10 13.3333V6.66663"
          stroke="white"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      <span>Add Tenant</span>
    </button>
  </div>
 
   </div>
  <div class="main-inner">
    <div class="d-flex align-items-start justify-content-center">
      <div class="row g-4 tenant-container">
        <ng-container *ngFor="let tenant of filteredTenants">
          <div class="col-12 col-sm-6">
            <app-tenant-card  [tenant]="tenant"></app-tenant-card>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
 

<ng-template #tenantModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="modal-basic-title" ngbAutofocus>
      Add New Tenant
    </h5>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form #tenantForm="ngForm">
      <div class="mb-3">
        <label for="name" class="form-label d-flex align-items-center gap-2">
          Name *
          <span
            class="text-danger name-isrequired"
            *ngIf="nameInput.invalid && nameInput.touched"
          >
            required
          </span>
        </label>

        <input
          type="text"
          id="name"
          class="form-control"
          name="name"
          required
          [(ngModel)]="newTenant.name"
          #nameInput="ngModel"
          [ngClass]="{
            'is-invalid': nameInput.invalid && nameInput.touched
          }"
        />
      </div>

      <div class="mb-3">
        <label for="url" class="form-label">URL</label>
        <input
          type="url"
          id="url"
          class="form-control"
          name="url"
          pattern="https?://.+"
          [(ngModel)]="newTenant.url"
          #urlInput="ngModel"
        />
      </div>

      <div class="mb-3">
        <label for="linkedin" class="form-label">LinkedIn</label>
        <input
          type="text"
          id="linkedin"
          class="form-control"
          name="linkedin"
          [(ngModel)]="newTenant.linkedin"
        />
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="x-btn x-btn-outline cancel-tenant-btn"
      (click)="modal.close('Save click')"
    >
      <span>Cancel</span>
    </button>

    <button
      class="x-btn x-btn-primary add-tenant-btn-text"
      [disabled]="tenantForm.invalid"
      (click)="addNewTenant()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
      >
        <path
          d="M6 12H18M12 18V6"
          stroke="white"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      <span class="add-tenant-text">Add Tenant</span>
    </button>
  </div>
</ng-template>

<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
