<div class="p-3 table-responsive">
  <table
    class="table align-middle"
    *ngIf="submissionsArray && submissionsArray.length > 0"
  >
    <thead>
      <tr>
        <th>Contact</th>
        <th>Submissions</th>
        <th>Center Name</th>
        <th>Center Address</th>
        <th>Source</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let submission of submissionsArray">
        <ng-container *ngFor="let userSubmission of submission.UserSubmissions">
          <tr>
            <td>{{ submission.Firstname }} {{ submission.Lastname }}</td>
            <td>
              <ng-container *ngFor="let file of submission.UserSubmissions">
                <div class="my-2">
                  <a target="_blank">{{ file.FileName }}</a>
                </div>
              </ng-container>
            </td>
            <td>
              <div class="d-flex justify-content-between">
                {{ getSubmissionCenterName(userSubmission) }}
                <button class="inbox" (click)="openSubmissions(Places, userSubmission)">View Places</button>
              </div>
            </td>
            <td>{{ getSubmissionCenterAddress(userSubmission) }}</td>
            <td>{{ getSubmissionSourceId(submission) }}</td>
            <td>
              <div *ngIf="userSubmission.StatusId === 0" class="d-flex justify-content-between">
                <button class="accept-btn" (click)="AcceptUserSubmission(userSubmission)">Accept</button>
                <button class="reject-btn" (click)="RejectUsersubmission(userSubmission)">Reject</button>
              </div>

              <ng-container *ngIf="userSubmission.StatusId === 1">
                <span style="color: #28a745; font-weight: 600;">Accepted</span>
              </ng-container>

              <ng-container *ngIf="userSubmission.StatusId === -1">
                <span style="color: #dc3545; font-weight: 600;">Rejected</span>
              </ng-container>
            </td>
          </tr>
        </ng-container>
      </ng-container>
    </tbody>
  </table>
</div>


<ng-template #Places let-modal>
  <div class="table-responsive">
    <table class="table align-middle">
      <thead>
        <tr>
          <th>Building Size (sq.ft.)</th>
          <th>Lease Type</th>
          <th>Suite</th>
          <th>For Lease Price ($)</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let place of places">
          <tr>
            <td>{{ place.BuildingSizeSf || 'N/A' }} <span *ngIf="place.BuildingSizeSf">SF</span></td>
            <td>{{ place.LeaseType || 'N/A' }}</td>
            <td>{{ place.Suite || 'N/A' }}</td>
            <td>{{ place.ForLeasePrice || '0' }}</td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</ng-template>
