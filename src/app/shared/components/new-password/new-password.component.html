<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
<!-- Success Message -->
<div
  *ngIf="successMessage"
  class="alert alert-success"
  [class.fade-out]="fadeSuccess"
>
  {{ successMessage }}
</div>

<!-- Error Message -->
<div
  *ngIf="errorMessage"
  class="alert alert-danger"
  [class.fade-out]="fadeError"
>
  {{ errorMessage }}
</div>

<div class="d-flex justify-content-center align-items-center vh-100">
  <div class="row m-0 total-height">
    <div class="col-md-6 px-0">
      <div class="login-container h-100">
        <header>
          <h1 class="login-head">Change Password</h1>
        </header>
        <p class="cherry-desc">
          You're all set! Create a new password to secure your account.
          <strong
            >The minimum number of characters is 8 characters long.</strong
          >
        </p>

        <form
          #loginForm="ngForm"
          (ngSubmit)="loginForm.form.valid && onSubmit()"
        >
          <!-- Email Input -->
          <div class="form-group my-3">
            <input
              type="email"
              class="form-control"
              placeholder="Email"
              name="Email"
              required
              [(ngModel)]="ChangePassword.Email"
              aria-label="Email"
              autocomplete="Email"
            />
          </div>
          <!-- Old Password Input -->
          <div class="form-group my-3 position-relative">
            <input
              [type]="showNewPassword ? 'text' : 'password'"
              class="form-control"
              placeholder="Password"
              name="NewPassword"
              required
              [(ngModel)]="ChangePassword.OldPassword"
              aria-label="Password"
              autocomplete="old-password"
            />
            <img
              src="../../../../assets/Images/Icons/eye-slash.png"
              (click)="toggleNewPassword()"
              class="eye-icon"
              alt="Toggle password visibility"
            />
          </div>

          <!-- New Password Input -->
          <div class="form-group my-3 position-relative">
            <input
              [type]="showNewPassword ? 'text' : 'password'"
              class="form-control"
              placeholder="New Password"
              name="newPassword"
              required
              [(ngModel)]="ChangePassword.NewPassword"
              aria-label="New password"
              autocomplete="new-password"
            />
            <img
              src="../../../../assets/Images/Icons/eye-slash.png"
              (click)="toggleNewPassword()"
              class="eye-icon"
              alt="Toggle password visibility"
            />
          </div>

          <!-- Confirm Password Input -->
          <div class="form-group my-3 position-relative">
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              class="form-control"
              placeholder="Confirm Password"
              name="confirmPassword"
              required
              [(ngModel)]="confirmPassword"
              aria-label="Confirm password"
              autocomplete="confirm-password"
            />
            <img
              src="../../../../assets/Images/Icons/eye-slash.png"
              (click)="toggleConfirmPassword()"
              class="eye-icon"
              alt="Toggle password visibility"
            />
          </div>

          <!-- Submit Button -->
          <div class="text-center mt-3">
            <button
              class="btn login"
              type="submit"
              [disabled]="!loginForm.form.valid"
            >
              Change Password
            </button>
          </div>

          <!-- Terms of Service Link -->
          <div class="text-center mt-3">
            <a class="termsofservice" [routerLink]="['/tos']">
              Terms of Service
            </a>
          </div>
        </form>
      </div>
    </div>

    <!-- Marketing Section -->
    <div class="col-md-6 right-container">
      <div class="focus-container">
        <h2 class="focus">Focus on deals</h2>
        <p class="worth">Worth pursuing.</p>
        <p
          class="mt-4 cherry-desc d-flex align-items-center justify-content-center"
        >
          CherryPick has helped us access hidden opportunities through their
          off-market listings. Their mix of technology and industry knowledge is
          unmatched and has been crucial to our growth.
        </p>
      </div>
    </div>
  </div>
</div>
