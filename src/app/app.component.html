<div
  class="app-shell"
  [class.with-sidebar]="shouldShowSidebar && isAuthenticated"
  [class.sidebar-collapsed]="sidebarCollapsed"
>
  <app-sidebar
    *ngIf="shouldShowSidebar &&isAuthenticated"
    [isCollapsed]="sidebarCollapsed"
    (collapseChange)="onSidebarCollapseChange($event)"
  ></app-sidebar>  <div class="app-container">
    <ng-container *ngIf="!isMarketSurveyRoute; else fullWidthContent">
      <div class="main-content-area">
        <div
          class="content-container"
          [ngClass]="{ authenticated: isAuthenticated }"
        >
          <router-outlet></router-outlet>
        </div>
      </div>
    </ng-container>

    <ng-template #fullWidthContent>
      <div class="container-fluid full-width-content">
        <router-outlet></router-outlet>
      </div>
    </ng-template>
  </div>

  <!-- <app-notifications
    *ngIf="shouldShowNotifications && !isMobile"
    [campaignId]="campaignId"
    [isChatbotRoute]="isChatbotRoute"
    (overlayStateChange)="onOverlayStateChange($event)"
    (sidebarStateChange)="onCopilotStateChange($event)"
  ></app-notifications> -->

  <app-floating-chat
    *ngIf="isAuthenticated"
    [campaignId]="campaignId"
  ></app-floating-chat>
</div>
