<div class="page-layout" [ngClass]="{'sidebar-collapsed': sidebarCollapsed}">
  <div class="sidebar">
    <app-sidebar (collapseChange)="onSidebarCollapse($event)"></app-sidebar>
  </div>

  <main class="main-content">
    <header class="dashboard-header">
      <h1 class="title">Properties</h1>
    </header>
    <div class="view-controls">
      <button
        class="icon-button"
        routerLink="/dashboard"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{exact: true}"
      >
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M20.3799 21.13C20.1799 21.13 19.9899 21.05 19.8499 20.91L13.4699 14.53C13.1799 14.24 13.1799 13.76 13.4699 13.47L21.2 5.74001C21.39 5.55001 21.6799 5.48001 21.9399 5.55001C22.1999 5.63001 22.3999 5.84001 22.4599 6.10001C22.6499 6.95001 22.7499 7.90001 22.7499 9.00001V15C22.7499 17.77 22.1699 19.64 20.9099 20.91C20.7699 21.05 20.5599 21.08 20.3799 21.13ZM15.0599 14L20.3199 19.26C20.9499 18.29 21.2499 16.91 21.2499 15V9.00001C21.2499 8.59001 21.2399 8.21001 21.2099 7.85001L15.0599 14Z" fill="#7A8591"/>
        <path d="M6.26999 22.48C6.20999 22.48 6.16001 22.47 6.10001 22.46C2.79001 21.7 1.25 19.33 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H15C19.33 1.25 21.7 2.79001 22.46 6.10001C22.52 6.35001 22.44 6.62 22.26 6.8L6.79999 22.26C6.65999 22.4 6.46999 22.48 6.26999 22.48ZM9 2.75C4.39 2.75 2.75 4.39 2.75 9V15C2.75 18.47 3.71001 20.21 6.04001 20.9L20.89 6.05C20.21 3.72 18.46 2.75999 14.99 2.75999H9V2.75Z" fill="#7A8591"/>
        <path d="M14.9999 22.7504H8.99989C7.89989 22.7504 6.95989 22.6604 6.09989 22.4604C5.82989 22.4004 5.61987 22.2004 5.54987 21.9404C5.46987 21.6804 5.54988 21.4004 5.73988 21.2004L13.4699 13.4704C13.7599 13.1804 14.2399 13.1804 14.5299 13.4704L20.9099 19.8504C21.0499 19.9904 21.1299 20.1804 21.1299 20.3804C21.1299 20.5804 21.0499 20.7704 20.9099 20.9104C19.6399 22.1704 17.7699 22.7504 14.9999 22.7504ZM7.84989 21.2104C8.20989 21.2404 8.58989 21.2504 8.99989 21.2504H14.9999C16.9199 21.2504 18.2899 20.9504 19.2599 20.3204L13.9999 15.0604L7.84989 21.2104Z" fill="#7A8591"/>
        <path d="M9.11994 13.31C8.48994 13.31 7.85993 13.08 7.35993 12.61C5.76993 11.1 5.12996 9.44005 5.50996 7.82005C5.88996 6.16005 7.33994 5.04004 9.11994 5.04004C10.8999 5.04004 12.35 6.16005 12.73 7.82005C13.1 9.45005 12.4599 11.1 10.8699 12.61C10.3799 13.07 9.74994 13.31 9.11994 13.31ZM6.96995 8.15004C6.64995 9.51004 7.56994 10.7301 8.39994 11.5201C8.80994 11.91 9.43994 11.91 9.83994 11.5201C10.6599 10.7401 11.5799 9.52004 11.2699 8.15004C10.9999 6.96004 9.93994 6.53004 9.11994 6.53004C8.29994 6.53004 7.24995 6.96004 6.96995 8.15004Z" fill="#7A8591"/>
        <path d="M9.1499 9.49023C8.5999 9.49023 8.1499 9.04023 8.1499 8.49023C8.1499 7.94023 8.5899 7.49023 9.1499 7.49023H9.15991C9.70991 7.49023 10.1599 7.94023 10.1599 8.49023C10.1599 9.04023 9.6999 9.49023 9.1499 9.49023Z" fill="#7A8591"/>
      </svg>  
      </button>
      <button
        class="icon-button"
        routerLink="/PropertiesSpilit"
        routerLinkActive="active"
      >
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M15 22.75H9C3.57 22.75 1.25 20.43 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H15C20.43 1.25 22.75 3.57 22.75 9V15C22.75 20.43 20.43 22.75 15 22.75ZM9 2.75C4.39 2.75 2.75 4.39 2.75 9V15C2.75 19.61 4.39 21.25 9 21.25H15C19.61 21.25 21.25 19.61 21.25 15V9C21.25 4.39 19.61 2.75 15 2.75H9Z" fill="#7A8591"/>
        <path d="M9 22.75C8.59 22.75 8.25 22.41 8.25 22V2C8.25 1.59 8.59 1.25 9 1.25C9.41 1.25 9.75 1.59 9.75 2V22C9.75 22.41 9.41 22.75 9 22.75Z" fill="#7A8591"/>
      </svg> 
      </button>
      <button
        class="icon-button"
        routerLink="/Properties"
        routerLinkActive="active"
      >
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M19.77 11.25H15.73C13.72 11.25 12.75 10.36 12.75 8.52V3.98C12.75 2.14 13.73 1.25 15.73 1.25H19.77C21.78 1.25 22.75 2.14 22.75 3.98V8.51C22.75 10.36 21.77 11.25 19.77 11.25ZM15.73 2.75C14.39 2.75 14.25 3.13 14.25 3.98V8.51C14.25 9.37 14.39 9.74 15.73 9.74H19.77C21.11 9.74 21.25 9.36 21.25 8.51V3.98C21.25 3.12 21.11 2.75 19.77 2.75H15.73Z" fill="#7A8591"/>
        <path d="M19.77 22.75H15.73C13.72 22.75 12.75 21.77 12.75 19.77V15.73C12.75 13.72 13.73 12.75 15.73 12.75H19.77C21.78 12.75 22.75 13.73 22.75 15.73V19.77C22.75 21.77 21.77 22.75 19.77 22.75ZM15.73 14.25C14.55 14.25 14.25 14.55 14.25 15.73V19.77C14.25 20.95 14.55 21.25 15.73 21.25H19.77C20.95 21.25 21.25 20.95 21.25 19.77V15.73C21.25 14.55 20.95 14.25 19.77 14.25H15.73Z" fill="#7A8591"/>
        <path d="M8.27 11.25H4.23C2.22 11.25 1.25 10.36 1.25 8.52V3.98C1.25 2.14 2.23 1.25 4.23 1.25H8.27C10.28 1.25 11.25 2.14 11.25 3.98V8.51C11.25 10.36 10.27 11.25 8.27 11.25ZM4.23 2.75C2.89 2.75 2.75 3.13 2.75 3.98V8.51C2.75 9.37 2.89 9.74 4.23 9.74H8.27C9.61 9.74 9.75 9.36 9.75 8.51V3.98C9.75 3.12 9.61 2.75 8.27 2.75H4.23Z" fill="#7A8591"/>
        <path d="M8.27 22.75H4.23C2.22 22.75 1.25 21.77 1.25 19.77V15.73C1.25 13.72 2.23 12.75 4.23 12.75H8.27C10.28 12.75 11.25 13.73 11.25 15.73V19.77C11.25 21.77 10.27 22.75 8.27 22.75ZM4.23 14.25C3.05 14.25 2.75 14.55 2.75 15.73V19.77C2.75 20.95 3.05 21.25 4.23 21.25H8.27C9.45 21.25 9.75 20.95 9.75 19.77V15.73C9.75 14.55 9.45 14.25 8.27 14.25H4.23Z" fill="#7A8591"/>
      </svg>   
      </button>
      <button 
        class="icon-button" 
        routerLink="/PropertiesGrid"
        routerLinkActive="active"
      >
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M15 22.75H9C3.57 22.75 1.25 20.43 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H15C20.43 1.25 22.75 3.57 22.75 9V15C22.75 20.43 20.43 22.75 15 22.75ZM9 2.75C4.39 2.75 2.75 4.39 2.75 9V15C2.75 19.61 4.39 21.25 9 21.25H15C19.61 21.25 21.25 19.61 21.25 15V9C21.25 4.39 19.61 2.75 15 2.75H9Z" fill="#7A8591"/>
        <path d="M22.0003 9.25H2.03027C1.62027 9.25 1.28027 8.91 1.28027 8.5C1.28027 8.09 1.62027 7.75 2.03027 7.75H22.0003C22.4103 7.75 22.7503 8.09 22.7503 8.5C22.7503 8.91 22.4103 9.25 22.0003 9.25Z" fill="#7A8591"/>
        <path d="M22.0003 16.25H2.03027C1.62027 16.25 1.28027 15.91 1.28027 15.5C1.28027 15.09 1.62027 14.75 2.03027 14.75H22.0003C22.4103 14.75 22.7503 15.09 22.7503 15.5C22.7503 15.91 22.4103 16.25 22.0003 16.25Z" fill="#7A8591"/>
        <path d="M8.50977 22.7398C8.09977 22.7398 7.75977 22.3998 7.75977 21.9898V2.00977C7.75977 1.59977 8.09977 1.25977 8.50977 1.25977C8.91977 1.25977 9.25977 1.59977 9.25977 2.00977V21.9798C9.25977 22.3998 8.92977 22.7398 8.50977 22.7398Z" fill="#7A8591"/>
        <path d="M15.5098 22.7398C15.0998 22.7398 14.7598 22.3998 14.7598 21.9898V2.00977C14.7598 1.59977 15.0998 1.25977 15.5098 1.25977C15.9198 1.25977 16.2598 1.59977 16.2598 2.00977V21.9798C16.2598 22.3998 15.9298 22.7398 15.5098 22.7398Z" fill="#7A8591"/>
      </svg>
      </button>
    </div>
    
    <div class="table-wrapper">
      <div class="search-section">
        <div class="search-container">
          <div class="search-group">
            <div class="search-input-wrapper">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" class="search-icon">
                <path d="M11.5 21.75C5.85 21.75 1.25 17.15 1.25 11.5C1.25 5.85 5.85 1.25 11.5 1.25C17.15 1.25 21.75 5.85 21.75 11.5C21.75 17.15 17.15 21.75 11.5 21.75ZM11.5 2.75C6.67 2.75 2.75 6.68 2.75 11.5C2.75 16.32 6.67 20.25 11.5 20.25C16.33 20.25 20.25 16.32 20.25 11.5C20.25 6.68 16.33 2.75 11.5 2.75Z" fill="#7A8591"/>
                <path d="M22.0004 22.7504C21.8104 22.7504 21.6204 22.6804 21.4704 22.5304L19.4704 20.5304C19.1804 20.2404 19.1804 19.7604 19.4704 19.4704C19.7604 19.1804 20.2404 19.1804 20.5304 19.4704L22.5304 21.4704C22.8204 21.7604 22.8204 22.2404 22.5304 22.5304C22.3804 22.6804 22.1904 22.7504 22.0004 22.7504Z" fill="#7A8591"/>
              </svg>
              <input
                type="text"
                [formControl]="searchControl"
                placeholder="Search Location..."
                class="search-input"
              />
            </div>

            <div class="dropdown-group">
              <select [(ngModel)]="selectedCountry" class="dropdown" (change)="onCountryChange()">
                <option value="USA">USA</option>
                <option value="Canada">Canada</option>
              </select>
              <select [(ngModel)]="selectedCity" class="dropdown" (change)="onCityChange()">
                <option value="New York">New York</option>
                <option value="Los Angeles">Los Angeles</option>
              </select>
              <select [(ngModel)]="selectedArea" class="dropdown" (change)="onAreaChange()">
                <option value="Albany/Buffalo/Syracuse">Albany/Buffalo/Syracuse</option>
                <option value="Manhattan">Manhattan</option>
              </select>
            </div>
          </div>

          <button class="filter-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M10.9404 22.6496C10.4604 22.6496 9.99039 22.5296 9.55039 22.2896C8.67039 21.7996 8.14039 20.9096 8.14039 19.9096V14.6096C8.14039 14.1096 7.81039 13.3596 7.50039 12.9796L3.76039 9.01961C3.13039 8.38961 2.65039 7.30961 2.65039 6.49961V4.19961C2.65039 2.59961 3.86039 1.34961 5.40039 1.34961H18.6004C20.1204 1.34961 21.3504 2.57961 21.3504 4.09961V6.29961C21.3504 7.34961 20.7204 8.53961 20.1304 9.12961L15.8004 12.9596C15.3804 13.3096 15.0504 14.0796 15.0504 14.6996V18.9996C15.0504 19.8896 14.4904 20.9196 13.7904 21.3396L12.4104 22.2296C11.9604 22.5096 11.4504 22.6496 10.9404 22.6496ZM5.40039 2.84961C4.70039 2.84961 4.15039 3.43961 4.15039 4.19961V6.49961C4.15039 6.86961 4.45039 7.58961 4.83039 7.96961L8.64039 11.9796C9.15039 12.6096 9.65039 13.6596 9.65039 14.5996V19.8996C9.65039 20.5496 10.1004 20.8696 10.2904 20.9696C10.7104 21.1996 11.2204 21.1996 11.6104 20.9596L13.0004 20.0696C13.2804 19.8996 13.5604 19.3596 13.5604 18.9996V14.6996C13.5604 13.6296 14.0804 12.4496 14.8304 11.8196L19.1104 8.02961C19.4504 7.68961 19.8604 6.87961 19.8604 6.28961V4.09961C19.8604 3.40961 19.3004 2.84961 18.6104 2.84961H5.40039Z" fill="#7A8591"/>
              <path d="M5.99968 10.7503C5.85968 10.7503 5.72968 10.7103 5.59968 10.6403C5.24968 10.4203 5.13968 9.95026 5.35968 9.60026L10.2897 1.70026C10.5097 1.35026 10.9697 1.24026 11.3197 1.46026C11.6697 1.68026 11.7797 2.14026 11.5597 2.49026L6.62968 10.3903C6.48968 10.6203 6.24968 10.7503 5.99968 10.7503Z" fill="#7A8591"/>
            </svg>
          </button>
        </div>
        <div class="filter-tags">
          <button
          *ngFor="let tag of filterTags"
          class="filter-tag"
          [class.active]="tag.active"
          (click)="toggleFilterTag(tag)"
        >
          <span class="filter-tag-label">{{ tag.label }}</span>
          <svg class="filter-tag-close" (click)="$event.stopPropagation(); removeFilter(tag)" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10.0003 18.9587C5.05866 18.9587 1.04199 14.942 1.04199 10.0003C1.04199 5.05866 5.05866 1.04199 10.0003 1.04199C14.942 1.04199 18.9587 5.05866 18.9587 10.0003C18.9587 14.942 14.942 18.9587 10.0003 18.9587ZM10.0003 2.29199C5.75033 2.29199 2.29199 5.75033 2.29199 10.0003C2.29199 14.2503 5.75033 17.7087 10.0003 17.7087C14.2503 17.7087 17.7087 14.2503 17.7087 10.0003C17.7087 5.75033 14.2503 2.29199 10.0003 2.29199Z" fill="#001F3F"/>
            <path d="M7.64147 12.9831C7.48314 12.9831 7.3248 12.9248 7.1998 12.7998C6.95814 12.5581 6.95814 12.1581 7.1998 11.9165L11.9165 7.1998C12.1581 6.95814 12.5581 6.95814 12.7998 7.1998C13.0415 7.44147 13.0415 7.84147 12.7998 8.08314L8.08314 12.7998C7.96647 12.9248 7.7998 12.9831 7.64147 12.9831Z" fill="#001F3F"/>
            <path d="M12.3581 12.9831C12.1998 12.9831 12.0415 12.9248 11.9165 12.7998L7.1998 8.08314C6.95814 7.84147 6.95814 7.44147 7.1998 7.1998C7.44147 6.95814 7.84147 6.95814 8.08314 7.1998L12.7998 11.9165C13.0415 12.1581 13.0415 12.5581 12.7998 12.7998C12.6748 12.9248 12.5165 12.9831 12.3581 12.9831Z" fill="#001F3F"/>
          </svg>
        </button>
        </div>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Address</th>
              <th>Unit Size</th>
              <th>Lease Price</th>
              <th>Nearest Competitors</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let property of filteredProperties">
              <td>
                <span class="property-name">{{ property.name }}</span>
              </td>
              <td>
                <span class="property-address">{{ property.address }}</span>
              </td>
              <td>
                <span class="unit-size">{{ property.unitSize }}</span>
              </td>
              <td>
                <span class="lease-price">${{ property.leasePrice }}</span>
              </td>
              <td>
                <div class="competitor-cell">
                  <div class="competitor-badge">
                    <img src="assets/Images/klnb-logo.jpg" alt="competitor" class="competitor-logo">
                  </div>
                  <span class="competitor-distance">{{ property.competitorDistance }} Mi</span>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>
</div>