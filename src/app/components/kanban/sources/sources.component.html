<div class="page-layout" [ngClass]="{ 'sidebar-collapsed': sidebarCollapsed }">
  <div class="sidebar">
    <app-sidebar (collapseChange)="onSidebarCollapse($event)"></app-sidebar>
  </div>
  <div class="main-content">
    <div class="dashboard-header">
      <h1 class="title">Sources</h1>
    </div>
    <div class="sources-container">
      <div class="header">
        <h1>My Sources</h1>
        <button class="add-source-btn" (click)="openAddSourceModal()">
          <span>+</span> Add Source
        </button>
      </div>

      <!-- Loading State -->


      <!-- Empty State -->
      <div class="content" *ngIf="!isLoading && sources.length === 0; else sourceGrid">
        <div class="empty-state">
          <img
            src="assets/Images/undraw_collecting_3zyb 1.png"
            alt="No sources"
            class="empty-state-image"
          />
          <h2>Sources Will Appear Here</h2>
          <p>Save and access your essential real estate links in one place.</p>
        </div>
      </div>

      <ng-template #sourceGrid>
        <div class="sources-grid">
          <div class="source-card" *ngFor="let source of sources">
            <div class="source-header">
              <div class="source-info">
                <img
                  [src]="source.logo"
                  [alt]="source.name"
                  class="source-logo"
                  (error)="handleImageError(source)"
                />
                <h2 class="source-title">{{ source.name }}</h2>
                <a
                  [href]="source.url"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="source-link"
                >
                  {{ source.url }}
                </a>
              </div>
              <button class="options-btn" (click)="toggleOptions(source)">•••</button>
            </div>
            <p class="source-description">{{ source.description }}</p>
          </div>
          
          
        </div>
      </ng-template>
    </div>
  </div>

  <app-add-source-modal
    *ngIf="showAddModal"
    (close)="closeAddSourceModal()"
    (addSource)="handleAddSource($event)"
  ></app-add-source-modal>
</div>

