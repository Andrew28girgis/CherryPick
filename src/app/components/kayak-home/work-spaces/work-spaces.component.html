<div class="row d-flex p-0 m-0 modal-body">
  <!-- Desktop version -->
  <div class="col-12 p-2 d-none d-md-block">
    <form class="row m-0 p-0 d-flex justify-content-between mt-2 mb-3">
      <div class="col-2 p-0 BuyBoxWorkSpaces_name_div">
        <h5 class="mb-2">Locations</h5>
      </div>
      <div class="col-3 p-0 d-flex gap-4" *ngIf="uniqueStates.length > 0 || uniqueStates">
        <label for="state" class="form-label">State:</label>
        <select [(ngModel)]="WorkSpace.state" name="state" (change)="onStateChange()" class="form-control" required>
          <option value="" selected disabled>Select State</option>
          <option *ngFor="let state of uniqueStates" [value]="state">{{ state }}</option>
        </select>
        <div *ngIf="isLoadingStatesAndCities" class="spinner-grow spinner-grow-sm text-primary mt-2" role="status">
          <span class="visually-hidden"></span>
        </div>
      </div>
      <div class="col-3 p-0 d-flex gap-4" *ngIf="filteredCities.length > 0|| filteredCities">
        <label for="city" class="form-label">City:</label>
        <select [(ngModel)]="WorkSpace.city" name="city" class="form-control" required
          [disabled]="!filteredCities.length">
          <option value="" selected disabled>Select City</option>
          <option *ngFor="let city of filteredCities" [value]="city">{{ city }}</option>
        </select>
      </div>
      <div class="col-2 p-0 d-flex justify-content-end">
        <button type="submit" class="btn btn-primary" [disabled]="!WorkSpace.state || !WorkSpace.city"
          (click)="validateAndAddWorkSpace()">
          Add
        </button>
      </div>
    </form>
    <div *ngIf="BuyBoxWorkSpaces?.length > 0 || !BuyBoxWorkSpaces">
      <div class="table-container">
        <table class="table table-bordered">
          <thead class="thead-light">
            <tr>
              <th>State</th>
              <th>City</th>
              <th class="td_last">Actions</th>
            </tr>
          </thead>
          <tbody *ngIf="BuyBoxWorkSpaces?.length > 0 || BuyBoxWorkSpaces">
            <tr *ngFor="let workspace of BuyBoxWorkSpaces; let i = index">
              <td>{{ workspace.state }}</td>
              <td>{{ workspace.city }}</td>
              <td class="td_last">
                <button class="btn btn_trash" (click)="deleteWorkspace(workspace.id)">
                  <i class="fa fa-trash"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="pt-2 d-flex justify-content-center align-items-center" style="height: 20vh;" *ngIf="BuyBoxWorkSpaces?.length == 0 || !BuyBoxWorkSpaces">
      <p style="font-weight: 500;">No data Locations</p>
    </div>
  </div>

  <!-- Mobile version -->
  <div class="col-12 p-2 d-md-none">
    <div class="locations-card">
      <div class="location-header">
        <h5 class="mb-2">Locations</h5>
      </div>
      <form class="location-content">
        <div class="form-group" *ngIf="uniqueStates.length > 0 || uniqueStates">
          <label for="mobileState" class="form-label">State:</label>
          <select [(ngModel)]="WorkSpace.state" name="state" (change)="onStateChange()" class="form-control" required id="mobileState">
            <option value="" selected disabled>Select State</option>
            <option *ngFor="let state of uniqueStates" [value]="state">{{ state }}</option>
          </select>
          <div *ngIf="isLoadingStatesAndCities" class="spinner-grow spinner-grow-sm text-primary mt-2" role="status">
            <span class="visually-hidden"></span>
          </div>
        </div>
        <div class="form-group" *ngIf="filteredCities.length > 0|| filteredCities">
          <label for="mobileCity" class="form-label">City:</label>
          <select [(ngModel)]="WorkSpace.city" name="city" class="form-control" required id="mobileCity"
            [disabled]="!filteredCities.length">
            <option value="" selected disabled>Select City</option>
            <option *ngFor="let city of filteredCities" [value]="city">{{ city }}</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary w-100" [disabled]="!WorkSpace.state || !WorkSpace.city"
          (click)="validateAndAddWorkSpace()">
          Add
        </button>
      </form>
    </div>

    <div class="locations-list" *ngIf="BuyBoxWorkSpaces?.length > 0 || !BuyBoxWorkSpaces">
      <div class="locations-card" *ngFor="let workspace of BuyBoxWorkSpaces; let i = index">
        <div class="location-content">
          <div class="location-info">
            <span class="location-state">{{ workspace.state }}</span>
            <span class="location-city">{{ workspace.city }}</span>
          </div>
          <button class="btn btn_trash" (click)="deleteWorkspace(workspace.id)">
            <i class="fa fa-trash"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="pt-2 d-flex justify-content-center align-items-center" style="height: 20vh;" *ngIf="BuyBoxWorkSpaces?.length == 0 || !BuyBoxWorkSpaces">
      <p style="font-weight: 500;">No data Locations</p>
    </div>
  </div>
</div>
